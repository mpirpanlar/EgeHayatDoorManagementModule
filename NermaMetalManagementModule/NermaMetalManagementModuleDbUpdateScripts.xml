<?xml version="1.0" encoding="utf-8"?>
<DbScripts xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" Application="3014">
  <Updates>
    <Version>
      <Build>1</Build>
      <Major>1</Major>
      <Minor>0</Minor>
      <Revision>-1</Revision>
    </Version>
    <Script>
		/****** Object:  Table [dbo].[Erp_InventoryUnitItemSizeSetDetails]    Script Date: 02/10/2011 12:25:43 ******/
		SET ANSI_PADDING ON
		GO
		IF NOT EXISTS (SELECT
		*
		FROM sys.objects
		WHERE object_id = OBJECT_ID(N'[Erp_InventoryUnitItemSizeSetDetails]')
		AND type IN (N'U'))
		BEGIN
		CREATE TABLE [Erp_InventoryUnitItemSizeSetDetails] (
		[RecId] [dbo].[UdtRecId] IDENTITY (1, 1) NOT NULL
		,[InventoryId] [dbo].[UdtInt64] NULL
		,[SizeDetailCode] [dbo].[UdtCode] NULL
		,[SizeDetailName] [dbo].[UdtName] NULL
		,[UnitItemId] [dbo].[UdtInt32] NULL
		,[UnitFactor] [dbo].[UdtQuantity] NULL
		,[UnitDivisor] [dbo].[UdtQuantity] NULL
		,[UnitWidth] [dbo].[UdtQuantity] NULL
		,[UnitWidthUnitId] [dbo].[UdtInt32] NULL
		,[UnitLength] [dbo].[UdtQuantity] NULL
		,[UnitLengthUnitId] [dbo].[UdtInt32] NULL
		,[UnitHeight] [dbo].[UdtQuantity] NULL
		,[UnitHeightUnitId] [dbo].[UdtInt32] NULL
		,[GrossUnitArea] [dbo].[UdtQuantity] NULL
		,[UnitArea] [dbo].[UdtQuantity] NULL
		,[UnitAreaUnitId] [dbo].[UdtInt32] NULL
		,[GrossUnitVolume] [dbo].[UdtQuantity] NULL
		,[UnitVolume] [dbo].[UdtQuantity] NULL
		,[UnitVolumeUnitId] [dbo].[UdtInt32] NULL
		,[UnitWeight] [dbo].[UdtQuantity] NULL
		,[GrossUnitWeight] [dbo].[UdtQuantity] NULL
		,[UnitWeightUnitId] [dbo].[UdtInt32] NULL
		,[UnitDesi] [dbo].[UdtQuantity] NULL
		,[IsMainUnit] [dbo].[UdtBool] NULL
		,[IsDefault] [dbo].[UdtBool] NULL
		,[UniversalCode] [dbo].[UdtCode] NULL
		,[InUse] [dbo].[UdtBool] NULL
		,[InsertedAt] [dbo].[UdtDateTime] NULL
		,[InsertedBy] [dbo].[UdtInt32] NULL
		,[UpdatedAt] [dbo].[UdtDateTime] NULL
		,[UpdatedBy] [dbo].[UdtInt32] NULL
		,[IsDeleted] [dbo].[UdtBool] NULL
		,[DeletedAt] [dbo].[UdtDateTime] NULL
		,[DeletedBy] [dbo].[UdtInt32] NULL
		,CONSTRAINT [PK_Erp_InventoryUnitItemSizeSetDetails] PRIMARY KEY CLUSTERED
		(
		[RecId] ASC
		) WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
		) ON [PRIMARY]
		END
		GO

		SET ANSI_PADDING OFF
		GO
		IF NOT EXISTS (SELECT
		*
		FROM sys.indexes
		WHERE object_id = OBJECT_ID(N'[Erp_InventoryUnitItemSizeSetDetails]')
		AND name = N'Erp_InventoryUnitItemSizeSetDetails_IX0')
		CREATE NONCLUSTERED INDEX [Erp_InventoryUnitItemSizeSetDetails_IX0] ON [Erp_InventoryUnitItemSizeSetDetails]
		(
		[InventoryId] ASC
		) WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, SORT_IN_TEMPDB = OFF, IGNORE_DUP_KEY = OFF, DROP_EXISTING = OFF, ONLINE = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
		GO

		/****** Object:  ForeignKey [FK_Erp_InventoryUnitItemSizeSetDetails_Erp_Inventory]    Script Date: 02/10/2011 12:25:43 ******/
		IF NOT EXISTS (SELECT
		*
		FROM sys.foreign_keys
		WHERE object_id = OBJECT_ID(N'[FK_Erp_InventoryUnitItemSizeSetDetails_Erp_Inventory]')
		AND parent_object_id = OBJECT_ID(N'[Erp_InventoryUnitItemSizeSetDetails]'))
		ALTER TABLE [Erp_InventoryUnitItemSizeSetDetails] WITH CHECK ADD CONSTRAINT [FK_Erp_InventoryUnitItemSizeSetDetails_Erp_Inventory] FOREIGN KEY ([InventoryId])
		REFERENCES [Erp_Inventory] ([RecId])
		GO

		IF EXISTS (SELECT
		*
		FROM sys.foreign_keys
		WHERE object_id = OBJECT_ID(N'[FK_Erp_InventoryUnitItemSizeSetDetails_Erp_Inventory]')
		AND parent_object_id = OBJECT_ID(N'[Erp_InventoryUnitItemSizeSetDetails]'))
		ALTER TABLE [Erp_InventoryUnitItemSizeSetDetails] CHECK CONSTRAINT [FK_Erp_InventoryUnitItemSizeSetDetails_Erp_Inventory]
		GO

		/****** Object:  ForeignKey [FK_Erp_InventoryUnitItemSizeSetDetails_Meta_UnitSetItem]    Script Date: 02/10/2011 12:25:43 ******/
		IF NOT EXISTS (SELECT
		*
		FROM sys.foreign_keys
		WHERE object_id = OBJECT_ID(N'[FK_Erp_InventoryUnitItemSizeSetDetails_Meta_UnitSetItem]')
		AND parent_object_id = OBJECT_ID(N'[Erp_InventoryUnitItemSizeSetDetails]'))
		ALTER TABLE [Erp_InventoryUnitItemSizeSetDetails] WITH CHECK ADD CONSTRAINT [FK_Erp_InventoryUnitItemSizeSetDetails_Meta_UnitSetItem] FOREIGN KEY ([UnitItemId])
		REFERENCES [Meta_UnitSetItem] ([RecId])
		GO

		IF EXISTS (SELECT
		*
		FROM sys.foreign_keys
		WHERE object_id = OBJECT_ID(N'[FK_Erp_InventoryUnitItemSizeSetDetails_Meta_UnitSetItem]')
		AND parent_object_id = OBJECT_ID(N'[Erp_InventoryUnitItemSizeSetDetails]'))
		ALTER TABLE [Erp_InventoryUnitItemSizeSetDetails] CHECK CONSTRAINT [FK_Erp_InventoryUnitItemSizeSetDetails_Meta_UnitSetItem]
		GO
	</Script>
  </Updates>
  <Updates>
    <Version>
      <Build>2</Build>
      <Major>1</Major>
      <Minor>0</Minor>
      <Revision>-1</Revision>
    </Version>
    <Script>/****** Object:  Table [dbo].[Erp_UnitItemSizeSetDetails]    Script Date: 02/10/2011 12:25:43 ******/
		SET ANSI_PADDING ON
		GO
		IF NOT EXISTS (SELECT
		*
		FROM sys.objects
		WHERE object_id = OBJECT_ID(N'[Erp_UnitItemSizeSetDetails]')
		AND type IN (N'U'))
		BEGIN
		CREATE TABLE [Erp_UnitItemSizeSetDetails] (
		[RecId] [dbo].[UdtRecId] IDENTITY (1, 1) NOT NULL
		,[SizeDetailCode] [dbo].[UdtCode] NULL
		,[SizeDetailName] [dbo].[UdtName] NULL
		,[UnitItemId] [dbo].[UdtInt32] NULL
		,[UnitFactor] [dbo].[UdtQuantity] NULL
		,[UnitDivisor] [dbo].[UdtQuantity] NULL
		,[UnitWidth] [dbo].[UdtQuantity] NULL
		,[UnitWidthUnitId] [dbo].[UdtInt32] NULL
		,[UnitLength] [dbo].[UdtQuantity] NULL
		,[UnitLengthUnitId] [dbo].[UdtInt32] NULL
		,[UnitHeight] [dbo].[UdtQuantity] NULL
		,[UnitHeightUnitId] [dbo].[UdtInt32] NULL
		,[GrossUnitArea] [dbo].[UdtQuantity] NULL
		,[UnitArea] [dbo].[UdtQuantity] NULL
		,[UnitAreaUnitId] [dbo].[UdtInt32] NULL
		,[GrossUnitVolume] [dbo].[UdtQuantity] NULL
		,[UnitVolume] [dbo].[UdtQuantity] NULL
		,[UnitVolumeUnitId] [dbo].[UdtInt32] NULL
		,[UnitWeight] [dbo].[UdtQuantity] NULL
		,[GrossUnitWeight] [dbo].[UdtQuantity] NULL
		,[UnitWeightUnitId] [dbo].[UdtInt32] NULL
		,[UnitDesi] [dbo].[UdtQuantity] NULL
		,[IsMainUnit] [dbo].[UdtBool] NULL
		,[IsDefault] [dbo].[UdtBool] NULL
		,[UniversalCode] [dbo].[UdtCode] NULL
		,[InUse] [dbo].[UdtBool] NULL
		,[InsertedAt] [dbo].[UdtDateTime] NULL
		,[InsertedBy] [dbo].[UdtInt32] NULL
		,[UpdatedAt] [dbo].[UdtDateTime] NULL
		,[UpdatedBy] [dbo].[UdtInt32] NULL
		,[IsDeleted] [dbo].[UdtBool] NULL
		,[DeletedAt] [dbo].[UdtDateTime] NULL
		,[DeletedBy] [dbo].[UdtInt32] NULL
		,CONSTRAINT [PK_Erp_UnitItemSizeSetDetails] PRIMARY KEY CLUSTERED
		(
		[RecId] ASC
		) WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
		) ON [PRIMARY]
		END
		GO

		SET ANSI_PADDING OFF
		GO

		/****** Object:  ForeignKey [FK_Erp_UnitItemSizeSetDetails_Meta_UnitSetItem]    Script Date: 02/10/2011 12:25:43 ******/
		IF NOT EXISTS (SELECT
		*
		FROM sys.foreign_keys
		WHERE object_id = OBJECT_ID(N'[FK_Erp_UnitItemSizeSetDetails_Meta_UnitSetItem]')
		AND parent_object_id = OBJECT_ID(N'[Erp_UnitItemSizeSetDetails]'))
		ALTER TABLE [Erp_UnitItemSizeSetDetails] WITH CHECK ADD CONSTRAINT [FK_Erp_UnitItemSizeSetDetails_Meta_UnitSetItem] FOREIGN KEY ([UnitItemId])
		REFERENCES [Meta_UnitSetItem] ([RecId])
		GO

		IF EXISTS (SELECT
		*
		FROM sys.foreign_keys
		WHERE object_id = OBJECT_ID(N'[FK_Erp_UnitItemSizeSetDetails_Meta_UnitSetItem]')
		AND parent_object_id = OBJECT_ID(N'[Erp_UnitItemSizeSetDetails]'))
		ALTER TABLE [Erp_UnitItemSizeSetDetails] CHECK CONSTRAINT [FK_Erp_UnitItemSizeSetDetails_Meta_UnitSetItem]
		GO</Script>
  </Updates>
  <Updates>
    <Version>
      <Build>3</Build>
      <Major>1</Major>
      <Minor>0</Minor>
      <Revision>-1</Revision>
    </Version>
    <Script>IF NOT EXISTS (SELECT
      COLUMN_NAME
    FROM INFORMATION_SCHEMA.COLUMNS
    WHERE TABLE_NAME = 'Erp_QuotationReceiptItem'
    AND COLUMN_NAME = 'InventoryUnitItemSizeSetDetailsId')
BEGIN
  ALTER TABLE Erp_QuotationReceiptItem ADD InventoryUnitItemSizeSetDetailsId UdtInt64
END

IF NOT EXISTS (SELECT
      *
    FROM sys.foreign_keys
    WHERE object_id = OBJECT_ID(N'[FK_Erp_QuotationReceiptItem_Erp_InventoryUnitItemSizeSetDetails_InventoryUnitItemSizeSetDetailsId]')
    AND parent_object_id = OBJECT_ID(N'[Erp_QuotationReceiptItem]'))
  ALTER TABLE [dbo].[Erp_QuotationReceiptItem] WITH CHECK ADD CONSTRAINT [FK_Erp_QuotationReceiptItem_Erp_InventoryUnitItemSizeSetDetails_InventoryUnitItemSizeSetDetailsId] FOREIGN KEY ([InventoryUnitItemSizeSetDetailsId])
  REFERENCES [dbo].[Erp_InventoryUnitItemSizeSetDetails] ([RecId])
GO

IF EXISTS (SELECT
      *
    FROM sys.foreign_keys
    WHERE object_id = OBJECT_ID(N'[FK_Erp_QuotationReceiptItem_Erp_InventoryUnitItemSizeSetDetails_InventoryUnitItemSizeSetDetailsId]')
    AND parent_object_id = OBJECT_ID(N'[Erp_QuotationReceiptItem]'))
  ALTER TABLE [dbo].[Erp_QuotationReceiptItem] CHECK CONSTRAINT [FK_Erp_QuotationReceiptItem_Erp_InventoryUnitItemSizeSetDetails_InventoryUnitItemSizeSetDetailsId]
GO


</Script>
  </Updates>
  <Updates>
    <Version>
      <Build>4</Build>
      <Major>1</Major>
      <Minor>0</Minor>
      <Revision>-1</Revision>
    </Version>
    <Script>	IF NOT EXISTS (SELECT
		*
		FROM sys.objects
		WHERE object_id = OBJECT_ID(N'[Erp_VariantItemMark]')
		AND type IN (N'U'))
		BEGIN
		CREATE TABLE [Erp_VariantItemMark] (
		[RecId] [dbo].[UdtRecId] IDENTITY (1, 1) NOT NULL
		,[TypeId] [dbo].[UdtInt32] NULL
		,[CardId] [dbo].[UdtInt32] NULL
		,[VariantItemId] [dbo].[UdtInt32] NULL
		,[MarkId] [dbo].[UdtInt64] NULL
		,[InUse] [dbo].[UdtBool] NULL
		,[InsertedAt] [dbo].[UdtDateTime] NULL
		,[InsertedBy] [dbo].[UdtInt32] NULL
		,[UpdatedAt] [dbo].[UdtDateTime] NULL
		,[UpdatedBy] [dbo].[UdtInt32] NULL
		,[IsDeleted] [dbo].[UdtBool] NULL
		,[DeletedAt] [dbo].[UdtDateTime] NULL
		,[DeletedBy] [dbo].[UdtInt32] NULL
		,CONSTRAINT [PK_Erp_VariantItemMark] PRIMARY KEY CLUSTERED
		(
		[RecId] ASC
		) WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
		) ON [PRIMARY]
		END
		GO

		SET ANSI_PADDING OFF
		GO
		IF NOT EXISTS (SELECT
		*
		FROM sys.indexes
		WHERE object_id = OBJECT_ID(N'[Erp_VariantItemMark]')
		AND name = N'Erp_VariantItemMark_IX0')
		CREATE NONCLUSTERED INDEX [Erp_VariantItemMark_IX0] ON [Erp_VariantItemMark]
		(
		[VariantItemId] ASC
		) WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, SORT_IN_TEMPDB = OFF, IGNORE_DUP_KEY = OFF, DROP_EXISTING = OFF, ONLINE = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
		GO

		IF NOT EXISTS (SELECT
		*
		FROM sys.foreign_keys
		WHERE object_id = OBJECT_ID(N'[FK_Erp_VariantItemMark_Erp_VariantItem]')
		AND parent_object_id = OBJECT_ID(N'[Erp_VariantItemMark]'))
		ALTER TABLE [Erp_VariantItemMark] WITH CHECK ADD CONSTRAINT [FK_Erp_VariantItemMark_Erp_VariantItem] FOREIGN KEY ([VariantItemId])
		REFERENCES [Erp_VariantItem] ([RecId])
		GO

		IF EXISTS (SELECT
		*
		FROM sys.foreign_keys
		WHERE object_id = OBJECT_ID(N'[FK_Erp_VariantItemMark_Erp_VariantItem]')
		AND parent_object_id = OBJECT_ID(N'[Erp_VariantItemMark]'))
		ALTER TABLE [Erp_VariantItemMark] CHECK CONSTRAINT [FK_Erp_VariantItemMark_Erp_VariantItem]
		GO

		IF NOT EXISTS (SELECT
		*
		FROM sys.foreign_keys
		WHERE object_id = OBJECT_ID(N'[FK_Erp_VariantItemMark_Erp_Mark]')
		AND parent_object_id = OBJECT_ID(N'[Erp_VariantItemMark]'))
		ALTER TABLE [Erp_VariantItemMark] WITH CHECK ADD CONSTRAINT [FK_Erp_VariantItemMark_Erp_Mark] FOREIGN KEY ([MarkId])
		REFERENCES [Erp_Mark] ([RecId])
		GO

		IF EXISTS (SELECT
		*
		FROM sys.foreign_keys
		WHERE object_id = OBJECT_ID(N'[FK_Erp_VariantItemMark_Erp_Mark]')
		AND parent_object_id = OBJECT_ID(N'[Erp_VariantItemMark]'))
		ALTER TABLE [Erp_VariantItemMark] CHECK CONSTRAINT [FK_Erp_VariantItemMark_Erp_Mark]
		GO


		IF NOT EXISTS (SELECT
		*
		FROM sys.foreign_keys
		WHERE object_id = OBJECT_ID(N'[FK_Erp_VariantItemMark_Erp_VariantCard]')
		AND parent_object_id = OBJECT_ID(N'[Erp_VariantItemMark]'))
		ALTER TABLE [Erp_VariantItemMark] WITH CHECK ADD CONSTRAINT [FK_Erp_VariantItemMark_Erp_VariantCard] FOREIGN KEY ([CardId])
		REFERENCES [Erp_VariantCard] ([RecId])
		GO

		IF EXISTS (SELECT
		*
		FROM sys.foreign_keys
		WHERE object_id = OBJECT_ID(N'[FK_Erp_VariantItemMark_Erp_VariantCard]')
		AND parent_object_id = OBJECT_ID(N'[Erp_VariantItemMark]'))
		ALTER TABLE [Erp_VariantItemMark] CHECK CONSTRAINT [FK_Erp_VariantItemMark_Erp_VariantCard]
		GO


		IF NOT EXISTS (SELECT
		*
		FROM sys.foreign_keys
		WHERE object_id = OBJECT_ID(N'[FK_Erp_VariantItemMark_Erp_VariantType]')
		AND parent_object_id = OBJECT_ID(N'[Erp_VariantItemMark]'))
		ALTER TABLE [Erp_VariantItemMark] WITH CHECK ADD CONSTRAINT [FK_Erp_VariantItemMark_Erp_VariantType] FOREIGN KEY ([TypeId])
		REFERENCES [Erp_VariantType] ([RecId])
		GO

		IF EXISTS (SELECT
		*
		FROM sys.foreign_keys
		WHERE object_id = OBJECT_ID(N'[FK_Erp_VariantItemMark_Erp_VariantType]')
		AND parent_object_id = OBJECT_ID(N'[Erp_VariantItemMark]'))
		ALTER TABLE [Erp_VariantItemMark] CHECK CONSTRAINT [FK_Erp_VariantItemMark_Erp_VariantType]
		GO

				
		IF NOT EXISTS (SELECT
		*
		FROM sys.objects
		WHERE object_id = OBJECT_ID(N'[Erp_InventoryMark]')
		AND type IN (N'U'))
		BEGIN
		CREATE TABLE [Erp_InventoryMark] (
		[RecId] [dbo].[UdtRecId] IDENTITY (1, 1) NOT NULL
		,[InventoryId] [dbo].[UdtInt64] NULL
		,[MarkId] [dbo].[UdtInt64] NULL
		,[InUse] [dbo].[UdtBool] NULL
		,[InsertedAt] [dbo].[UdtDateTime] NULL
		,[InsertedBy] [dbo].[UdtInt32] NULL
		,[UpdatedAt] [dbo].[UdtDateTime] NULL
		,[UpdatedBy] [dbo].[UdtInt32] NULL
		,[IsDeleted] [dbo].[UdtBool] NULL
		,[DeletedAt] [dbo].[UdtDateTime] NULL
		,[DeletedBy] [dbo].[UdtInt32] NULL
		,CONSTRAINT [PK_Erp_InventoryMark] PRIMARY KEY CLUSTERED
		(
		[RecId] ASC
		) WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
		) ON [PRIMARY]
		END
		GO

		SET ANSI_PADDING OFF
		GO
		IF NOT EXISTS (SELECT
		*
		FROM sys.indexes
		WHERE object_id = OBJECT_ID(N'[Erp_InventoryMark]')
		AND name = N'Erp_InventoryMark_IX0')
		CREATE NONCLUSTERED INDEX [Erp_InventoryMark_IX0] ON [Erp_InventoryMark]
		(
		[InventoryId] ASC
		) WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, SORT_IN_TEMPDB = OFF, IGNORE_DUP_KEY = OFF, DROP_EXISTING = OFF, ONLINE = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
		GO

		IF NOT EXISTS (SELECT
		*
		FROM sys.foreign_keys
		WHERE object_id = OBJECT_ID(N'[FK_Erp_InventoryMark_Erp_Inventory]')
		AND parent_object_id = OBJECT_ID(N'[Erp_InventoryMark]'))
		ALTER TABLE [Erp_InventoryMark] WITH CHECK ADD CONSTRAINT [FK_Erp_InventoryMark_Erp_Inventory] FOREIGN KEY ([InventoryId])
		REFERENCES [Erp_Inventory] ([RecId])
		GO

		IF EXISTS (SELECT
		*
		FROM sys.foreign_keys
		WHERE object_id = OBJECT_ID(N'[FK_Erp_InventoryMark_Erp_Inventory]')
		AND parent_object_id = OBJECT_ID(N'[Erp_InventoryMark]'))
		ALTER TABLE [Erp_InventoryMark] CHECK CONSTRAINT [FK_Erp_InventoryMark_Erp_Inventory]
		GO


		IF NOT EXISTS (SELECT
		*
		FROM sys.foreign_keys
		WHERE object_id = OBJECT_ID(N'[FK_Erp_InventoryMark_Erp_Mark]')
		AND parent_object_id = OBJECT_ID(N'[Erp_InventoryMark]'))
		ALTER TABLE [Erp_InventoryMark] WITH CHECK ADD CONSTRAINT [FK_Erp_InventoryMark_Erp_Mark] FOREIGN KEY ([MarkId])
		REFERENCES [Erp_Mark] ([RecId])
		GO

		IF EXISTS (SELECT
		*
		FROM sys.foreign_keys
		WHERE object_id = OBJECT_ID(N'[FK_Erp_InventoryMark_Erp_Mark]')
		AND parent_object_id = OBJECT_ID(N'[Erp_InventoryMark]'))
		ALTER TABLE [Erp_InventoryMark] CHECK CONSTRAINT [FK_Erp_InventoryMark_Erp_Mark]
		GO
		
IF NOT EXISTS (SELECT
      COLUMN_NAME
    FROM INFORMATION_SCHEMA.COLUMNS
    WHERE TABLE_NAME = 'Erp_Inventory'
    AND COLUMN_NAME = 'IsSurfaceTreatment')
BEGIN
  ALTER TABLE Erp_Inventory ADD IsSurfaceTreatment UdtBool
END		

IF NOT EXISTS (SELECT
      COLUMN_NAME
    FROM INFORMATION_SCHEMA.COLUMNS
    WHERE TABLE_NAME = 'Erp_VariantType'
    AND COLUMN_NAME = 'IsMarkRelation')
BEGIN
  ALTER TABLE Erp_VariantType ADD IsMarkRelation UdtBool
END		</Script>
  </Updates>
  <CreateScript>
    <DbVersion>
      <Build>4</Build>
      <Major>1</Major>
      <Minor>0</Minor>
      <Revision>-1</Revision>
    </DbVersion>
    <CreateScript>
		/****** Object:  Table [dbo].[Erp_InventoryUnitItemSizeSetDetails]    Script Date: 02/10/2011 12:25:43 ******/
		SET ANSI_PADDING ON
		GO
		IF NOT EXISTS (SELECT
		*
		FROM sys.objects
		WHERE object_id = OBJECT_ID(N'[Erp_InventoryUnitItemSizeSetDetails]')
		AND type IN (N'U'))
		BEGIN
		CREATE TABLE [Erp_InventoryUnitItemSizeSetDetails] (
		[RecId] [dbo].[UdtRecId] IDENTITY (1, 1) NOT NULL
		,[InventoryId] [dbo].[UdtInt64] NULL
		,[SizeDetailCode] [dbo].[UdtCode] NULL
		,[SizeDetailName] [dbo].[UdtName] NULL
		,[UnitItemId] [dbo].[UdtInt32] NULL
		,[UnitFactor] [dbo].[UdtQuantity] NULL
		,[UnitDivisor] [dbo].[UdtQuantity] NULL
		,[UnitWidth] [dbo].[UdtQuantity] NULL
		,[UnitWidthUnitId] [dbo].[UdtInt32] NULL
		,[UnitLength] [dbo].[UdtQuantity] NULL
		,[UnitLengthUnitId] [dbo].[UdtInt32] NULL
		,[UnitHeight] [dbo].[UdtQuantity] NULL
		,[UnitHeightUnitId] [dbo].[UdtInt32] NULL
		,[GrossUnitArea] [dbo].[UdtQuantity] NULL
		,[UnitArea] [dbo].[UdtQuantity] NULL
		,[UnitAreaUnitId] [dbo].[UdtInt32] NULL
		,[GrossUnitVolume] [dbo].[UdtQuantity] NULL
		,[UnitVolume] [dbo].[UdtQuantity] NULL
		,[UnitVolumeUnitId] [dbo].[UdtInt32] NULL
		,[UnitWeight] [dbo].[UdtQuantity] NULL
		,[GrossUnitWeight] [dbo].[UdtQuantity] NULL
		,[UnitWeightUnitId] [dbo].[UdtInt32] NULL
		,[UnitDesi] [dbo].[UdtQuantity] NULL
		,[IsMainUnit] [dbo].[UdtBool] NULL
		,[IsDefault] [dbo].[UdtBool] NULL
		,[UniversalCode] [dbo].[UdtCode] NULL
		,[InUse] [dbo].[UdtBool] NULL
		,[InsertedAt] [dbo].[UdtDateTime] NULL
		,[InsertedBy] [dbo].[UdtInt32] NULL
		,[UpdatedAt] [dbo].[UdtDateTime] NULL
		,[UpdatedBy] [dbo].[UdtInt32] NULL
		,[IsDeleted] [dbo].[UdtBool] NULL
		,[DeletedAt] [dbo].[UdtDateTime] NULL
		,[DeletedBy] [dbo].[UdtInt32] NULL
		,CONSTRAINT [PK_Erp_InventoryUnitItemSizeSetDetails] PRIMARY KEY CLUSTERED
		(
		[RecId] ASC
		) WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
		) ON [PRIMARY]
		END
		GO

		SET ANSI_PADDING OFF
		GO
		IF NOT EXISTS (SELECT
		*
		FROM sys.indexes
		WHERE object_id = OBJECT_ID(N'[Erp_InventoryUnitItemSizeSetDetails]')
		AND name = N'Erp_InventoryUnitItemSizeSetDetails_IX0')
		CREATE NONCLUSTERED INDEX [Erp_InventoryUnitItemSizeSetDetails_IX0] ON [Erp_InventoryUnitItemSizeSetDetails]
		(
		[InventoryId] ASC
		) WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, SORT_IN_TEMPDB = OFF, IGNORE_DUP_KEY = OFF, DROP_EXISTING = OFF, ONLINE = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
		GO

		/****** Object:  ForeignKey [FK_Erp_InventoryUnitItemSizeSetDetails_Erp_Inventory]    Script Date: 02/10/2011 12:25:43 ******/
		IF NOT EXISTS (SELECT
		*
		FROM sys.foreign_keys
		WHERE object_id = OBJECT_ID(N'[FK_Erp_InventoryUnitItemSizeSetDetails_Erp_Inventory]')
		AND parent_object_id = OBJECT_ID(N'[Erp_InventoryUnitItemSizeSetDetails]'))
		ALTER TABLE [Erp_InventoryUnitItemSizeSetDetails] WITH CHECK ADD CONSTRAINT [FK_Erp_InventoryUnitItemSizeSetDetails_Erp_Inventory] FOREIGN KEY ([InventoryId])
		REFERENCES [Erp_Inventory] ([RecId])
		GO

		IF EXISTS (SELECT
		*
		FROM sys.foreign_keys
		WHERE object_id = OBJECT_ID(N'[FK_Erp_InventoryUnitItemSizeSetDetails_Erp_Inventory]')
		AND parent_object_id = OBJECT_ID(N'[Erp_InventoryUnitItemSizeSetDetails]'))
		ALTER TABLE [Erp_InventoryUnitItemSizeSetDetails] CHECK CONSTRAINT [FK_Erp_InventoryUnitItemSizeSetDetails_Erp_Inventory]
		GO

		/****** Object:  ForeignKey [FK_Erp_InventoryUnitItemSizeSetDetails_Meta_UnitSetItem]    Script Date: 02/10/2011 12:25:43 ******/
		IF NOT EXISTS (SELECT
		*
		FROM sys.foreign_keys
		WHERE object_id = OBJECT_ID(N'[FK_Erp_InventoryUnitItemSizeSetDetails_Meta_UnitSetItem]')
		AND parent_object_id = OBJECT_ID(N'[Erp_InventoryUnitItemSizeSetDetails]'))
		ALTER TABLE [Erp_InventoryUnitItemSizeSetDetails] WITH CHECK ADD CONSTRAINT [FK_Erp_InventoryUnitItemSizeSetDetails_Meta_UnitSetItem] FOREIGN KEY ([UnitItemId])
		REFERENCES [Meta_UnitSetItem] ([RecId])
		GO

		IF EXISTS (SELECT
		*
		FROM sys.foreign_keys
		WHERE object_id = OBJECT_ID(N'[FK_Erp_InventoryUnitItemSizeSetDetails_Meta_UnitSetItem]')
		AND parent_object_id = OBJECT_ID(N'[Erp_InventoryUnitItemSizeSetDetails]'))
		ALTER TABLE [Erp_InventoryUnitItemSizeSetDetails] CHECK CONSTRAINT [FK_Erp_InventoryUnitItemSizeSetDetails_Meta_UnitSetItem]
		GO

/****** Object:  Table [dbo].[Erp_UnitItemSizeSetDetails]    Script Date: 02/10/2011 12:25:43 ******/
		SET ANSI_PADDING ON
		GO
		IF NOT EXISTS (SELECT
		*
		FROM sys.objects
		WHERE object_id = OBJECT_ID(N'[Erp_UnitItemSizeSetDetails]')
		AND type IN (N'U'))
		BEGIN
		CREATE TABLE [Erp_UnitItemSizeSetDetails] (
		[RecId] [dbo].[UdtRecId] IDENTITY (1, 1) NOT NULL
		,[SizeDetailCode] [dbo].[UdtCode] NULL
		,[SizeDetailName] [dbo].[UdtName] NULL
		,[UnitItemId] [dbo].[UdtInt32] NULL
		,[UnitFactor] [dbo].[UdtQuantity] NULL
		,[UnitDivisor] [dbo].[UdtQuantity] NULL
		,[UnitWidth] [dbo].[UdtQuantity] NULL
		,[UnitWidthUnitId] [dbo].[UdtInt32] NULL
		,[UnitLength] [dbo].[UdtQuantity] NULL
		,[UnitLengthUnitId] [dbo].[UdtInt32] NULL
		,[UnitHeight] [dbo].[UdtQuantity] NULL
		,[UnitHeightUnitId] [dbo].[UdtInt32] NULL
		,[GrossUnitArea] [dbo].[UdtQuantity] NULL
		,[UnitArea] [dbo].[UdtQuantity] NULL
		,[UnitAreaUnitId] [dbo].[UdtInt32] NULL
		,[GrossUnitVolume] [dbo].[UdtQuantity] NULL
		,[UnitVolume] [dbo].[UdtQuantity] NULL
		,[UnitVolumeUnitId] [dbo].[UdtInt32] NULL
		,[UnitWeight] [dbo].[UdtQuantity] NULL
		,[GrossUnitWeight] [dbo].[UdtQuantity] NULL
		,[UnitWeightUnitId] [dbo].[UdtInt32] NULL
		,[UnitDesi] [dbo].[UdtQuantity] NULL
		,[IsMainUnit] [dbo].[UdtBool] NULL
		,[IsDefault] [dbo].[UdtBool] NULL
		,[UniversalCode] [dbo].[UdtCode] NULL
		,[InUse] [dbo].[UdtBool] NULL
		,[InsertedAt] [dbo].[UdtDateTime] NULL
		,[InsertedBy] [dbo].[UdtInt32] NULL
		,[UpdatedAt] [dbo].[UdtDateTime] NULL
		,[UpdatedBy] [dbo].[UdtInt32] NULL
		,[IsDeleted] [dbo].[UdtBool] NULL
		,[DeletedAt] [dbo].[UdtDateTime] NULL
		,[DeletedBy] [dbo].[UdtInt32] NULL
		,CONSTRAINT [PK_Erp_UnitItemSizeSetDetails] PRIMARY KEY CLUSTERED
		(
		[RecId] ASC
		) WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
		) ON [PRIMARY]
		END
		GO

		SET ANSI_PADDING OFF
		GO

		/****** Object:  ForeignKey [FK_Erp_UnitItemSizeSetDetails_Meta_UnitSetItem]    Script Date: 02/10/2011 12:25:43 ******/
		IF NOT EXISTS (SELECT
		*
		FROM sys.foreign_keys
		WHERE object_id = OBJECT_ID(N'[FK_Erp_UnitItemSizeSetDetails_Meta_UnitSetItem]')
		AND parent_object_id = OBJECT_ID(N'[Erp_UnitItemSizeSetDetails]'))
		ALTER TABLE [Erp_UnitItemSizeSetDetails] WITH CHECK ADD CONSTRAINT [FK_Erp_UnitItemSizeSetDetails_Meta_UnitSetItem] FOREIGN KEY ([UnitItemId])
		REFERENCES [Meta_UnitSetItem] ([RecId])
		GO

		IF EXISTS (SELECT
		*
		FROM sys.foreign_keys
		WHERE object_id = OBJECT_ID(N'[FK_Erp_UnitItemSizeSetDetails_Meta_UnitSetItem]')
		AND parent_object_id = OBJECT_ID(N'[Erp_UnitItemSizeSetDetails]'))
		ALTER TABLE [Erp_UnitItemSizeSetDetails] CHECK CONSTRAINT [FK_Erp_UnitItemSizeSetDetails_Meta_UnitSetItem]
		GO		
		
IF NOT EXISTS (SELECT
      COLUMN_NAME
    FROM INFORMATION_SCHEMA.COLUMNS
    WHERE TABLE_NAME = 'Erp_QuotationReceiptItem'
    AND COLUMN_NAME = 'InventoryUnitItemSizeSetDetailsId')
BEGIN
  ALTER TABLE Erp_QuotationReceiptItem ADD InventoryUnitItemSizeSetDetailsId UdtInt64
END

IF NOT EXISTS (SELECT
      *
    FROM sys.foreign_keys
    WHERE object_id = OBJECT_ID(N'[FK_Erp_QuotationReceiptItem_Erp_InventoryUnitItemSizeSetDetails_InventoryUnitItemSizeSetDetailsId]')
    AND parent_object_id = OBJECT_ID(N'[Erp_QuotationReceiptItem]'))
  ALTER TABLE [dbo].[Erp_QuotationReceiptItem] WITH CHECK ADD CONSTRAINT [FK_Erp_QuotationReceiptItem_Erp_InventoryUnitItemSizeSetDetails_InventoryUnitItemSizeSetDetailsId] FOREIGN KEY ([InventoryUnitItemSizeSetDetailsId])
  REFERENCES [dbo].[Erp_InventoryUnitItemSizeSetDetails] ([RecId])
GO

IF EXISTS (SELECT
      *
    FROM sys.foreign_keys
    WHERE object_id = OBJECT_ID(N'[FK_Erp_QuotationReceiptItem_Erp_InventoryUnitItemSizeSetDetails_InventoryUnitItemSizeSetDetailsId]')
    AND parent_object_id = OBJECT_ID(N'[Erp_QuotationReceiptItem]'))
  ALTER TABLE [dbo].[Erp_QuotationReceiptItem] CHECK CONSTRAINT [FK_Erp_QuotationReceiptItem_Erp_InventoryUnitItemSizeSetDetails_InventoryUnitItemSizeSetDetailsId]
GO



	--SELECT * FROM Erp_VariantType EVT
	IF NOT EXISTS (SELECT
		*
		FROM sys.objects
		WHERE object_id = OBJECT_ID(N'[Erp_VariantItemMark]')
		AND type IN (N'U'))
		BEGIN
		CREATE TABLE [Erp_VariantItemMark] (
		[RecId] [dbo].[UdtRecId] IDENTITY (1, 1) NOT NULL
		,[TypeId] [dbo].[UdtInt32] NULL
		,[CardId] [dbo].[UdtInt32] NULL
		,[VariantItemId] [dbo].[UdtInt32] NULL
		,[MarkId] [dbo].[UdtInt64] NULL
		,[InUse] [dbo].[UdtBool] NULL
		,[InsertedAt] [dbo].[UdtDateTime] NULL
		,[InsertedBy] [dbo].[UdtInt32] NULL
		,[UpdatedAt] [dbo].[UdtDateTime] NULL
		,[UpdatedBy] [dbo].[UdtInt32] NULL
		,[IsDeleted] [dbo].[UdtBool] NULL
		,[DeletedAt] [dbo].[UdtDateTime] NULL
		,[DeletedBy] [dbo].[UdtInt32] NULL
		,CONSTRAINT [PK_Erp_VariantItemMark] PRIMARY KEY CLUSTERED
		(
		[RecId] ASC
		) WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
		) ON [PRIMARY]
		END
		GO

		SET ANSI_PADDING OFF
		GO
		IF NOT EXISTS (SELECT
		*
		FROM sys.indexes
		WHERE object_id = OBJECT_ID(N'[Erp_VariantItemMark]')
		AND name = N'Erp_VariantItemMark_IX0')
		CREATE NONCLUSTERED INDEX [Erp_VariantItemMark_IX0] ON [Erp_VariantItemMark]
		(
		[VariantItemId] ASC
		) WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, SORT_IN_TEMPDB = OFF, IGNORE_DUP_KEY = OFF, DROP_EXISTING = OFF, ONLINE = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
		GO

		IF NOT EXISTS (SELECT
		*
		FROM sys.foreign_keys
		WHERE object_id = OBJECT_ID(N'[FK_Erp_VariantItemMark_Erp_VariantItem]')
		AND parent_object_id = OBJECT_ID(N'[Erp_VariantItemMark]'))
		ALTER TABLE [Erp_VariantItemMark] WITH CHECK ADD CONSTRAINT [FK_Erp_VariantItemMark_Erp_VariantItem] FOREIGN KEY ([VariantItemId])
		REFERENCES [Erp_VariantItem] ([RecId])
		GO

		IF EXISTS (SELECT
		*
		FROM sys.foreign_keys
		WHERE object_id = OBJECT_ID(N'[FK_Erp_VariantItemMark_Erp_VariantItem]')
		AND parent_object_id = OBJECT_ID(N'[Erp_VariantItemMark]'))
		ALTER TABLE [Erp_VariantItemMark] CHECK CONSTRAINT [FK_Erp_VariantItemMark_Erp_VariantItem]
		GO

		IF NOT EXISTS (SELECT
		*
		FROM sys.foreign_keys
		WHERE object_id = OBJECT_ID(N'[FK_Erp_VariantItemMark_Erp_Mark]')
		AND parent_object_id = OBJECT_ID(N'[Erp_VariantItemMark]'))
		ALTER TABLE [Erp_VariantItemMark] WITH CHECK ADD CONSTRAINT [FK_Erp_VariantItemMark_Erp_Mark] FOREIGN KEY ([MarkId])
		REFERENCES [Erp_Mark] ([RecId])
		GO

		IF EXISTS (SELECT
		*
		FROM sys.foreign_keys
		WHERE object_id = OBJECT_ID(N'[FK_Erp_VariantItemMark_Erp_Mark]')
		AND parent_object_id = OBJECT_ID(N'[Erp_VariantItemMark]'))
		ALTER TABLE [Erp_VariantItemMark] CHECK CONSTRAINT [FK_Erp_VariantItemMark_Erp_Mark]
		GO


		IF NOT EXISTS (SELECT
		*
		FROM sys.foreign_keys
		WHERE object_id = OBJECT_ID(N'[FK_Erp_VariantItemMark_Erp_VariantCard]')
		AND parent_object_id = OBJECT_ID(N'[Erp_VariantItemMark]'))
		ALTER TABLE [Erp_VariantItemMark] WITH CHECK ADD CONSTRAINT [FK_Erp_VariantItemMark_Erp_VariantCard] FOREIGN KEY ([CardId])
		REFERENCES [Erp_VariantCard] ([RecId])
		GO

		IF EXISTS (SELECT
		*
		FROM sys.foreign_keys
		WHERE object_id = OBJECT_ID(N'[FK_Erp_VariantItemMark_Erp_VariantCard]')
		AND parent_object_id = OBJECT_ID(N'[Erp_VariantItemMark]'))
		ALTER TABLE [Erp_VariantItemMark] CHECK CONSTRAINT [FK_Erp_VariantItemMark_Erp_VariantCard]
		GO


		IF NOT EXISTS (SELECT
		*
		FROM sys.foreign_keys
		WHERE object_id = OBJECT_ID(N'[FK_Erp_VariantItemMark_Erp_VariantType]')
		AND parent_object_id = OBJECT_ID(N'[Erp_VariantItemMark]'))
		ALTER TABLE [Erp_VariantItemMark] WITH CHECK ADD CONSTRAINT [FK_Erp_VariantItemMark_Erp_VariantType] FOREIGN KEY ([TypeId])
		REFERENCES [Erp_VariantType] ([RecId])
		GO

		IF EXISTS (SELECT
		*
		FROM sys.foreign_keys
		WHERE object_id = OBJECT_ID(N'[FK_Erp_VariantItemMark_Erp_VariantType]')
		AND parent_object_id = OBJECT_ID(N'[Erp_VariantItemMark]'))
		ALTER TABLE [Erp_VariantItemMark] CHECK CONSTRAINT [FK_Erp_VariantItemMark_Erp_VariantType]
		GO

				
		IF NOT EXISTS (SELECT
		*
		FROM sys.objects
		WHERE object_id = OBJECT_ID(N'[Erp_InventoryMark]')
		AND type IN (N'U'))
		BEGIN
		CREATE TABLE [Erp_InventoryMark] (
		[RecId] [dbo].[UdtRecId] IDENTITY (1, 1) NOT NULL
		,[InventoryId] [dbo].[UdtInt64] NULL
		,[MarkId] [dbo].[UdtInt64] NULL
		,[InUse] [dbo].[UdtBool] NULL
		,[InsertedAt] [dbo].[UdtDateTime] NULL
		,[InsertedBy] [dbo].[UdtInt32] NULL
		,[UpdatedAt] [dbo].[UdtDateTime] NULL
		,[UpdatedBy] [dbo].[UdtInt32] NULL
		,[IsDeleted] [dbo].[UdtBool] NULL
		,[DeletedAt] [dbo].[UdtDateTime] NULL
		,[DeletedBy] [dbo].[UdtInt32] NULL
		,CONSTRAINT [PK_Erp_InventoryMark] PRIMARY KEY CLUSTERED
		(
		[RecId] ASC
		) WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
		) ON [PRIMARY]
		END
		GO

		SET ANSI_PADDING OFF
		GO
		IF NOT EXISTS (SELECT
		*
		FROM sys.indexes
		WHERE object_id = OBJECT_ID(N'[Erp_InventoryMark]')
		AND name = N'Erp_InventoryMark_IX0')
		CREATE NONCLUSTERED INDEX [Erp_InventoryMark_IX0] ON [Erp_InventoryMark]
		(
		[InventoryId] ASC
		) WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, SORT_IN_TEMPDB = OFF, IGNORE_DUP_KEY = OFF, DROP_EXISTING = OFF, ONLINE = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
		GO

		IF NOT EXISTS (SELECT
		*
		FROM sys.foreign_keys
		WHERE object_id = OBJECT_ID(N'[FK_Erp_InventoryMark_Erp_Inventory]')
		AND parent_object_id = OBJECT_ID(N'[Erp_InventoryMark]'))
		ALTER TABLE [Erp_InventoryMark] WITH CHECK ADD CONSTRAINT [FK_Erp_InventoryMark_Erp_Inventory] FOREIGN KEY ([InventoryId])
		REFERENCES [Erp_Inventory] ([RecId])
		GO

		IF EXISTS (SELECT
		*
		FROM sys.foreign_keys
		WHERE object_id = OBJECT_ID(N'[FK_Erp_InventoryMark_Erp_Inventory]')
		AND parent_object_id = OBJECT_ID(N'[Erp_InventoryMark]'))
		ALTER TABLE [Erp_InventoryMark] CHECK CONSTRAINT [FK_Erp_InventoryMark_Erp_Inventory]
		GO


		IF NOT EXISTS (SELECT
		*
		FROM sys.foreign_keys
		WHERE object_id = OBJECT_ID(N'[FK_Erp_InventoryMark_Erp_Mark]')
		AND parent_object_id = OBJECT_ID(N'[Erp_InventoryMark]'))
		ALTER TABLE [Erp_InventoryMark] WITH CHECK ADD CONSTRAINT [FK_Erp_InventoryMark_Erp_Mark] FOREIGN KEY ([MarkId])
		REFERENCES [Erp_Mark] ([RecId])
		GO

		IF EXISTS (SELECT
		*
		FROM sys.foreign_keys
		WHERE object_id = OBJECT_ID(N'[FK_Erp_InventoryMark_Erp_Mark]')
		AND parent_object_id = OBJECT_ID(N'[Erp_InventoryMark]'))
		ALTER TABLE [Erp_InventoryMark] CHECK CONSTRAINT [FK_Erp_InventoryMark_Erp_Mark]
		GO
		
IF NOT EXISTS (SELECT
      COLUMN_NAME
    FROM INFORMATION_SCHEMA.COLUMNS
    WHERE TABLE_NAME = 'Erp_Inventory'
    AND COLUMN_NAME = 'IsSurfaceTreatment')
BEGIN
  ALTER TABLE Erp_Inventory ADD IsSurfaceTreatment UdtBool
END		

IF NOT EXISTS (SELECT
      COLUMN_NAME
    FROM INFORMATION_SCHEMA.COLUMNS
    WHERE TABLE_NAME = 'Erp_VariantType'
    AND COLUMN_NAME = 'IsMarkRelation')
BEGIN
  ALTER TABLE Erp_VariantType ADD IsMarkRelation UdtBool
END	</CreateScript>
  </CreateScript>
</DbScripts>