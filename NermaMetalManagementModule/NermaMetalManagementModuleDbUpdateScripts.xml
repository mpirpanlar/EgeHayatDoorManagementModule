<?xml version="1.0" encoding="utf-8"?>
<DbScripts xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" Application="3014">
  <Updates>
    <Version>
      <Build>1</Build>
      <Major>1</Major>
      <Minor>0</Minor>
      <Revision>-1</Revision>
    </Version>
    <Script>
		/****** Object:  Table [dbo].[Erp_InventoryUnitItemSizeSetDetails]    Script Date: 02/10/2011 12:25:43 ******/
		SET ANSI_PADDING ON
		GO
		IF NOT EXISTS (SELECT
		*
		FROM sys.objects
		WHERE object_id = OBJECT_ID(N'[Erp_InventoryUnitItemSizeSetDetails]')
		AND type IN (N'U'))
		BEGIN
		CREATE TABLE [Erp_InventoryUnitItemSizeSetDetails] (
		[RecId] [dbo].[UdtRecId] IDENTITY (1, 1) NOT NULL
		,[InventoryId] [dbo].[UdtInt64] NULL
		,[SizeDetailCode] [dbo].[UdtCode] NULL
		,[SizeDetailName] [dbo].[UdtName] NULL
		,[UnitItemId] [dbo].[UdtInt32] NULL
		,[UnitFactor] [dbo].[UdtQuantity] NULL
		,[UnitDivisor] [dbo].[UdtQuantity] NULL
		,[UnitWidth] [dbo].[UdtQuantity] NULL
		,[UnitWidthUnitId] [dbo].[UdtInt32] NULL
		,[UnitLength] [dbo].[UdtQuantity] NULL
		,[UnitLengthUnitId] [dbo].[UdtInt32] NULL
		,[UnitHeight] [dbo].[UdtQuantity] NULL
		,[UnitHeightUnitId] [dbo].[UdtInt32] NULL
		,[GrossUnitArea] [dbo].[UdtQuantity] NULL
		,[UnitArea] [dbo].[UdtQuantity] NULL
		,[UnitAreaUnitId] [dbo].[UdtInt32] NULL
		,[GrossUnitVolume] [dbo].[UdtQuantity] NULL
		,[UnitVolume] [dbo].[UdtQuantity] NULL
		,[UnitVolumeUnitId] [dbo].[UdtInt32] NULL
		,[UnitWeight] [dbo].[UdtQuantity] NULL
		,[GrossUnitWeight] [dbo].[UdtQuantity] NULL
		,[UnitWeightUnitId] [dbo].[UdtInt32] NULL
		,[UnitDesi] [dbo].[UdtQuantity] NULL
		,[IsMainUnit] [dbo].[UdtBool] NULL
		,[IsDefault] [dbo].[UdtBool] NULL
		,[UniversalCode] [dbo].[UdtCode] NULL
		,[InUse] [dbo].[UdtBool] NULL
		,[InsertedAt] [dbo].[UdtDateTime] NULL
		,[InsertedBy] [dbo].[UdtInt32] NULL
		,[UpdatedAt] [dbo].[UdtDateTime] NULL
		,[UpdatedBy] [dbo].[UdtInt32] NULL
		,[IsDeleted] [dbo].[UdtBool] NULL
		,[DeletedAt] [dbo].[UdtDateTime] NULL
		,[DeletedBy] [dbo].[UdtInt32] NULL
		,CONSTRAINT [PK_Erp_InventoryUnitItemSizeSetDetails] PRIMARY KEY CLUSTERED
		(
		[RecId] ASC
		) WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
		) ON [PRIMARY]
		END
		GO

		SET ANSI_PADDING OFF
		GO
		IF NOT EXISTS (SELECT
		*
		FROM sys.indexes
		WHERE object_id = OBJECT_ID(N'[Erp_InventoryUnitItemSizeSetDetails]')
		AND name = N'Erp_InventoryUnitItemSizeSetDetails_IX0')
		CREATE NONCLUSTERED INDEX [Erp_InventoryUnitItemSizeSetDetails_IX0] ON [Erp_InventoryUnitItemSizeSetDetails]
		(
		[InventoryId] ASC
		) WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, SORT_IN_TEMPDB = OFF, IGNORE_DUP_KEY = OFF, DROP_EXISTING = OFF, ONLINE = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
		GO

		/****** Object:  ForeignKey [FK_Erp_InventoryUnitItemSizeSetDetails_Erp_Inventory]    Script Date: 02/10/2011 12:25:43 ******/
		IF NOT EXISTS (SELECT
		*
		FROM sys.foreign_keys
		WHERE object_id = OBJECT_ID(N'[FK_Erp_InventoryUnitItemSizeSetDetails_Erp_Inventory]')
		AND parent_object_id = OBJECT_ID(N'[Erp_InventoryUnitItemSizeSetDetails]'))
		ALTER TABLE [Erp_InventoryUnitItemSizeSetDetails] WITH CHECK ADD CONSTRAINT [FK_Erp_InventoryUnitItemSizeSetDetails_Erp_Inventory] FOREIGN KEY ([InventoryId])
		REFERENCES [Erp_Inventory] ([RecId])
		GO

		IF EXISTS (SELECT
		*
		FROM sys.foreign_keys
		WHERE object_id = OBJECT_ID(N'[FK_Erp_InventoryUnitItemSizeSetDetails_Erp_Inventory]')
		AND parent_object_id = OBJECT_ID(N'[Erp_InventoryUnitItemSizeSetDetails]'))
		ALTER TABLE [Erp_InventoryUnitItemSizeSetDetails] CHECK CONSTRAINT [FK_Erp_InventoryUnitItemSizeSetDetails_Erp_Inventory]
		GO

		/****** Object:  ForeignKey [FK_Erp_InventoryUnitItemSizeSetDetails_Meta_UnitSetItem]    Script Date: 02/10/2011 12:25:43 ******/
		IF NOT EXISTS (SELECT
		*
		FROM sys.foreign_keys
		WHERE object_id = OBJECT_ID(N'[FK_Erp_InventoryUnitItemSizeSetDetails_Meta_UnitSetItem]')
		AND parent_object_id = OBJECT_ID(N'[Erp_InventoryUnitItemSizeSetDetails]'))
		ALTER TABLE [Erp_InventoryUnitItemSizeSetDetails] WITH CHECK ADD CONSTRAINT [FK_Erp_InventoryUnitItemSizeSetDetails_Meta_UnitSetItem] FOREIGN KEY ([UnitItemId])
		REFERENCES [Meta_UnitSetItem] ([RecId])
		GO

		IF EXISTS (SELECT
		*
		FROM sys.foreign_keys
		WHERE object_id = OBJECT_ID(N'[FK_Erp_InventoryUnitItemSizeSetDetails_Meta_UnitSetItem]')
		AND parent_object_id = OBJECT_ID(N'[Erp_InventoryUnitItemSizeSetDetails]'))
		ALTER TABLE [Erp_InventoryUnitItemSizeSetDetails] CHECK CONSTRAINT [FK_Erp_InventoryUnitItemSizeSetDetails_Meta_UnitSetItem]
		GO
	</Script>
  </Updates>
  <Updates>
    <Version>
      <Build>2</Build>
      <Major>1</Major>
      <Minor>0</Minor>
      <Revision>-1</Revision>
    </Version>
    <Script>/****** Object:  Table [dbo].[Erp_UnitItemSizeSetDetails]    Script Date: 02/10/2011 12:25:43 ******/
		SET ANSI_PADDING ON
		GO
		IF NOT EXISTS (SELECT
		*
		FROM sys.objects
		WHERE object_id = OBJECT_ID(N'[Erp_UnitItemSizeSetDetails]')
		AND type IN (N'U'))
		BEGIN
		CREATE TABLE [Erp_UnitItemSizeSetDetails] (
		[RecId] [dbo].[UdtRecId] IDENTITY (1, 1) NOT NULL
		,[CompanyId] [dbo].[UdtInt32] NULL
		,[SizeDetailCode] [dbo].[UdtCode] NULL
		,[SizeDetailName] [dbo].[UdtName] NULL
		,[UnitItemId] [dbo].[UdtInt32] NULL
		,[UnitFactor] [dbo].[UdtQuantity] NULL
		,[UnitDivisor] [dbo].[UdtQuantity] NULL
		,[UnitWidth] [dbo].[UdtQuantity] NULL
		,[UnitWidthUnitId] [dbo].[UdtInt32] NULL
		,[UnitLength] [dbo].[UdtQuantity] NULL
		,[UnitLengthUnitId] [dbo].[UdtInt32] NULL
		,[UnitHeight] [dbo].[UdtQuantity] NULL
		,[UnitHeightUnitId] [dbo].[UdtInt32] NULL
		,[GrossUnitArea] [dbo].[UdtQuantity] NULL
		,[UnitArea] [dbo].[UdtQuantity] NULL
		,[UnitAreaUnitId] [dbo].[UdtInt32] NULL
		,[GrossUnitVolume] [dbo].[UdtQuantity] NULL
		,[UnitVolume] [dbo].[UdtQuantity] NULL
		,[UnitVolumeUnitId] [dbo].[UdtInt32] NULL
		,[UnitWeight] [dbo].[UdtQuantity] NULL
		,[GrossUnitWeight] [dbo].[UdtQuantity] NULL
		,[UnitWeightUnitId] [dbo].[UdtInt32] NULL
		,[UnitDesi] [dbo].[UdtQuantity] NULL
		,[IsMainUnit] [dbo].[UdtBool] NULL
		,[IsDefault] [dbo].[UdtBool] NULL
		,[UniversalCode] [dbo].[UdtCode] NULL
		,[InUse] [dbo].[UdtBool] NULL
		,[InsertedAt] [dbo].[UdtDateTime] NULL
		,[InsertedBy] [dbo].[UdtInt32] NULL
		,[UpdatedAt] [dbo].[UdtDateTime] NULL
		,[UpdatedBy] [dbo].[UdtInt32] NULL
		,[IsDeleted] [dbo].[UdtBool] NULL
		,[DeletedAt] [dbo].[UdtDateTime] NULL
		,[DeletedBy] [dbo].[UdtInt32] NULL
		,CONSTRAINT [PK_Erp_UnitItemSizeSetDetails] PRIMARY KEY CLUSTERED
		(
		[RecId] ASC
		) WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
		) ON [PRIMARY]
		END
		GO

		SET ANSI_PADDING OFF
		GO

		/****** Object:  ForeignKey [FK_Erp_UnitItemSizeSetDetails_Meta_UnitSetItem]    Script Date: 02/10/2011 12:25:43 ******/
		IF NOT EXISTS (SELECT
		*
		FROM sys.foreign_keys
		WHERE object_id = OBJECT_ID(N'[FK_Erp_UnitItemSizeSetDetails_Meta_UnitSetItem]')
		AND parent_object_id = OBJECT_ID(N'[Erp_UnitItemSizeSetDetails]'))
		ALTER TABLE [Erp_UnitItemSizeSetDetails] WITH CHECK ADD CONSTRAINT [FK_Erp_UnitItemSizeSetDetails_Meta_UnitSetItem] FOREIGN KEY ([UnitItemId])
		REFERENCES [Meta_UnitSetItem] ([RecId])
		GO

		IF EXISTS (SELECT
		*
		FROM sys.foreign_keys
		WHERE object_id = OBJECT_ID(N'[FK_Erp_UnitItemSizeSetDetails_Meta_UnitSetItem]')
		AND parent_object_id = OBJECT_ID(N'[Erp_UnitItemSizeSetDetails]'))
		ALTER TABLE [Erp_UnitItemSizeSetDetails] CHECK CONSTRAINT [FK_Erp_UnitItemSizeSetDetails_Meta_UnitSetItem]
		GO

IF NOT EXISTS (SELECT
      *
    FROM sys.indexes
    WHERE object_id = OBJECT_ID(N'[Erp_UnitItemSizeSetDetails]')
    AND name = N'Erp_UnitItemSizeSetDetails_IX0')
  CREATE NONCLUSTERED INDEX [Erp_UnitItemSizeSetDetails_IX0] ON [Erp_UnitItemSizeSetDetails]
  (
  [CompanyId] ASC,
  [SizeDetailCode] ASC
  ) WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, SORT_IN_TEMPDB = OFF, IGNORE_DUP_KEY = OFF, DROP_EXISTING = OFF, ONLINE = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
GO

IF NOT EXISTS (SELECT
      *
    FROM sys.foreign_keys
    WHERE object_id = OBJECT_ID(N'[FK_Erp_UnitItemSizeSetDetails_Erp_Company]')
    AND parent_object_id = OBJECT_ID(N'[Erp_UnitItemSizeSetDetails]'))
  ALTER TABLE [Erp_UnitItemSizeSetDetails] WITH CHECK ADD CONSTRAINT [FK_Erp_UnitItemSizeSetDetails_Erp_Company] FOREIGN KEY ([CompanyId])
  REFERENCES [Erp_Company] ([RecId])
GO

IF EXISTS (SELECT
      *
    FROM sys.foreign_keys
    WHERE object_id = OBJECT_ID(N'[FK_Erp_UnitItemSizeSetDetails_Erp_Company]')
    AND parent_object_id = OBJECT_ID(N'[Erp_UnitItemSizeSetDetails]'))
  ALTER TABLE [Erp_UnitItemSizeSetDetails] CHECK CONSTRAINT [FK_Erp_UnitItemSizeSetDetails_Erp_Company]
GO		</Script>
  </Updates>
  <Updates>
    <Version>
      <Build>3</Build>
      <Major>1</Major>
      <Minor>0</Minor>
      <Revision>-1</Revision>
    </Version>
    <Script>IF NOT EXISTS (SELECT
      COLUMN_NAME
    FROM INFORMATION_SCHEMA.COLUMNS
    WHERE TABLE_NAME = 'Erp_QuotationReceiptItem'
    AND COLUMN_NAME = 'InventoryUnitItemSizeSetDetailsId')
BEGIN
  ALTER TABLE Erp_QuotationReceiptItem ADD InventoryUnitItemSizeSetDetailsId UdtInt64
END

IF NOT EXISTS (SELECT
      *
    FROM sys.foreign_keys
    WHERE object_id = OBJECT_ID(N'[FK_Erp_QuotationReceiptItem_Erp_InventoryUnitItemSizeSetDetails_InventoryUnitItemSizeSetDetailsId]')
    AND parent_object_id = OBJECT_ID(N'[Erp_QuotationReceiptItem]'))
  ALTER TABLE [dbo].[Erp_QuotationReceiptItem] WITH CHECK ADD CONSTRAINT [FK_Erp_QuotationReceiptItem_Erp_InventoryUnitItemSizeSetDetails_InventoryUnitItemSizeSetDetailsId] FOREIGN KEY ([InventoryUnitItemSizeSetDetailsId])
  REFERENCES [dbo].[Erp_InventoryUnitItemSizeSetDetails] ([RecId])
GO

IF EXISTS (SELECT
      *
    FROM sys.foreign_keys
    WHERE object_id = OBJECT_ID(N'[FK_Erp_QuotationReceiptItem_Erp_InventoryUnitItemSizeSetDetails_InventoryUnitItemSizeSetDetailsId]')
    AND parent_object_id = OBJECT_ID(N'[Erp_QuotationReceiptItem]'))
  ALTER TABLE [dbo].[Erp_QuotationReceiptItem] CHECK CONSTRAINT [FK_Erp_QuotationReceiptItem_Erp_InventoryUnitItemSizeSetDetails_InventoryUnitItemSizeSetDetailsId]
GO


</Script>
  </Updates>
  <Updates>
    <Version>
      <Build>4</Build>
      <Major>1</Major>
      <Minor>0</Minor>
      <Revision>-1</Revision>
    </Version>
    <Script>	IF NOT EXISTS (SELECT
		*
		FROM sys.objects
		WHERE object_id = OBJECT_ID(N'[Erp_VariantItemMark]')
		AND type IN (N'U'))
		BEGIN
		CREATE TABLE [Erp_VariantItemMark] (
		[RecId] [dbo].[UdtRecId] IDENTITY (1, 1) NOT NULL
		,[TypeId] [dbo].[UdtInt32] NULL
		,[CardId] [dbo].[UdtInt32] NULL
		,[VariantItemId] [dbo].[UdtInt32] NULL
		,[MarkId] [dbo].[UdtInt64] NULL
		,[InUse] [dbo].[UdtBool] NULL
		,[InsertedAt] [dbo].[UdtDateTime] NULL
		,[InsertedBy] [dbo].[UdtInt32] NULL
		,[UpdatedAt] [dbo].[UdtDateTime] NULL
		,[UpdatedBy] [dbo].[UdtInt32] NULL
		,[IsDeleted] [dbo].[UdtBool] NULL
		,[DeletedAt] [dbo].[UdtDateTime] NULL
		,[DeletedBy] [dbo].[UdtInt32] NULL
		,CONSTRAINT [PK_Erp_VariantItemMark] PRIMARY KEY CLUSTERED
		(
		[RecId] ASC
		) WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
		) ON [PRIMARY]
		END
		GO

		SET ANSI_PADDING OFF
		GO
		IF NOT EXISTS (SELECT
		*
		FROM sys.indexes
		WHERE object_id = OBJECT_ID(N'[Erp_VariantItemMark]')
		AND name = N'Erp_VariantItemMark_IX0')
		CREATE NONCLUSTERED INDEX [Erp_VariantItemMark_IX0] ON [Erp_VariantItemMark]
		(
		[VariantItemId] ASC
		) WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, SORT_IN_TEMPDB = OFF, IGNORE_DUP_KEY = OFF, DROP_EXISTING = OFF, ONLINE = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
		GO

		IF NOT EXISTS (SELECT
		*
		FROM sys.foreign_keys
		WHERE object_id = OBJECT_ID(N'[FK_Erp_VariantItemMark_Erp_VariantItem]')
		AND parent_object_id = OBJECT_ID(N'[Erp_VariantItemMark]'))
		ALTER TABLE [Erp_VariantItemMark] WITH CHECK ADD CONSTRAINT [FK_Erp_VariantItemMark_Erp_VariantItem] FOREIGN KEY ([VariantItemId])
		REFERENCES [Erp_VariantItem] ([RecId])
		GO

		IF EXISTS (SELECT
		*
		FROM sys.foreign_keys
		WHERE object_id = OBJECT_ID(N'[FK_Erp_VariantItemMark_Erp_VariantItem]')
		AND parent_object_id = OBJECT_ID(N'[Erp_VariantItemMark]'))
		ALTER TABLE [Erp_VariantItemMark] CHECK CONSTRAINT [FK_Erp_VariantItemMark_Erp_VariantItem]
		GO

		IF NOT EXISTS (SELECT
		*
		FROM sys.foreign_keys
		WHERE object_id = OBJECT_ID(N'[FK_Erp_VariantItemMark_Erp_Mark]')
		AND parent_object_id = OBJECT_ID(N'[Erp_VariantItemMark]'))
		ALTER TABLE [Erp_VariantItemMark] WITH CHECK ADD CONSTRAINT [FK_Erp_VariantItemMark_Erp_Mark] FOREIGN KEY ([MarkId])
		REFERENCES [Erp_Mark] ([RecId])
		GO

		IF EXISTS (SELECT
		*
		FROM sys.foreign_keys
		WHERE object_id = OBJECT_ID(N'[FK_Erp_VariantItemMark_Erp_Mark]')
		AND parent_object_id = OBJECT_ID(N'[Erp_VariantItemMark]'))
		ALTER TABLE [Erp_VariantItemMark] CHECK CONSTRAINT [FK_Erp_VariantItemMark_Erp_Mark]
		GO


		IF NOT EXISTS (SELECT
		*
		FROM sys.foreign_keys
		WHERE object_id = OBJECT_ID(N'[FK_Erp_VariantItemMark_Erp_VariantCard]')
		AND parent_object_id = OBJECT_ID(N'[Erp_VariantItemMark]'))
		ALTER TABLE [Erp_VariantItemMark] WITH CHECK ADD CONSTRAINT [FK_Erp_VariantItemMark_Erp_VariantCard] FOREIGN KEY ([CardId])
		REFERENCES [Erp_VariantCard] ([RecId])
		GO

		IF EXISTS (SELECT
		*
		FROM sys.foreign_keys
		WHERE object_id = OBJECT_ID(N'[FK_Erp_VariantItemMark_Erp_VariantCard]')
		AND parent_object_id = OBJECT_ID(N'[Erp_VariantItemMark]'))
		ALTER TABLE [Erp_VariantItemMark] CHECK CONSTRAINT [FK_Erp_VariantItemMark_Erp_VariantCard]
		GO


		IF NOT EXISTS (SELECT
		*
		FROM sys.foreign_keys
		WHERE object_id = OBJECT_ID(N'[FK_Erp_VariantItemMark_Erp_VariantType]')
		AND parent_object_id = OBJECT_ID(N'[Erp_VariantItemMark]'))
		ALTER TABLE [Erp_VariantItemMark] WITH CHECK ADD CONSTRAINT [FK_Erp_VariantItemMark_Erp_VariantType] FOREIGN KEY ([TypeId])
		REFERENCES [Erp_VariantType] ([RecId])
		GO

		IF EXISTS (SELECT
		*
		FROM sys.foreign_keys
		WHERE object_id = OBJECT_ID(N'[FK_Erp_VariantItemMark_Erp_VariantType]')
		AND parent_object_id = OBJECT_ID(N'[Erp_VariantItemMark]'))
		ALTER TABLE [Erp_VariantItemMark] CHECK CONSTRAINT [FK_Erp_VariantItemMark_Erp_VariantType]
		GO

				
		IF NOT EXISTS (SELECT
		*
		FROM sys.objects
		WHERE object_id = OBJECT_ID(N'[Erp_InventoryMark]')
		AND type IN (N'U'))
		BEGIN
		CREATE TABLE [Erp_InventoryMark] (
		[RecId] [dbo].[UdtRecId] IDENTITY (1, 1) NOT NULL
		,[InventoryId] [dbo].[UdtInt64] NULL
		,[MarkId] [dbo].[UdtInt64] NULL
		,[InUse] [dbo].[UdtBool] NULL
		,[InsertedAt] [dbo].[UdtDateTime] NULL
		,[InsertedBy] [dbo].[UdtInt32] NULL
		,[UpdatedAt] [dbo].[UdtDateTime] NULL
		,[UpdatedBy] [dbo].[UdtInt32] NULL
		,[IsDeleted] [dbo].[UdtBool] NULL
		,[DeletedAt] [dbo].[UdtDateTime] NULL
		,[DeletedBy] [dbo].[UdtInt32] NULL
		,CONSTRAINT [PK_Erp_InventoryMark] PRIMARY KEY CLUSTERED
		(
		[RecId] ASC
		) WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
		) ON [PRIMARY]
		END
		GO

		SET ANSI_PADDING OFF
		GO
		IF NOT EXISTS (SELECT
		*
		FROM sys.indexes
		WHERE object_id = OBJECT_ID(N'[Erp_InventoryMark]')
		AND name = N'Erp_InventoryMark_IX0')
		CREATE NONCLUSTERED INDEX [Erp_InventoryMark_IX0] ON [Erp_InventoryMark]
		(
		[InventoryId] ASC
		) WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, SORT_IN_TEMPDB = OFF, IGNORE_DUP_KEY = OFF, DROP_EXISTING = OFF, ONLINE = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
		GO

		IF NOT EXISTS (SELECT
		*
		FROM sys.foreign_keys
		WHERE object_id = OBJECT_ID(N'[FK_Erp_InventoryMark_Erp_Inventory]')
		AND parent_object_id = OBJECT_ID(N'[Erp_InventoryMark]'))
		ALTER TABLE [Erp_InventoryMark] WITH CHECK ADD CONSTRAINT [FK_Erp_InventoryMark_Erp_Inventory] FOREIGN KEY ([InventoryId])
		REFERENCES [Erp_Inventory] ([RecId])
		GO

		IF EXISTS (SELECT
		*
		FROM sys.foreign_keys
		WHERE object_id = OBJECT_ID(N'[FK_Erp_InventoryMark_Erp_Inventory]')
		AND parent_object_id = OBJECT_ID(N'[Erp_InventoryMark]'))
		ALTER TABLE [Erp_InventoryMark] CHECK CONSTRAINT [FK_Erp_InventoryMark_Erp_Inventory]
		GO


		IF NOT EXISTS (SELECT
		*
		FROM sys.foreign_keys
		WHERE object_id = OBJECT_ID(N'[FK_Erp_InventoryMark_Erp_Mark]')
		AND parent_object_id = OBJECT_ID(N'[Erp_InventoryMark]'))
		ALTER TABLE [Erp_InventoryMark] WITH CHECK ADD CONSTRAINT [FK_Erp_InventoryMark_Erp_Mark] FOREIGN KEY ([MarkId])
		REFERENCES [Erp_Mark] ([RecId])
		GO

		IF EXISTS (SELECT
		*
		FROM sys.foreign_keys
		WHERE object_id = OBJECT_ID(N'[FK_Erp_InventoryMark_Erp_Mark]')
		AND parent_object_id = OBJECT_ID(N'[Erp_InventoryMark]'))
		ALTER TABLE [Erp_InventoryMark] CHECK CONSTRAINT [FK_Erp_InventoryMark_Erp_Mark]
		GO
		
IF NOT EXISTS (SELECT
      COLUMN_NAME
    FROM INFORMATION_SCHEMA.COLUMNS
    WHERE TABLE_NAME = 'Erp_Inventory'
    AND COLUMN_NAME = 'IsSurfaceTreatment')
BEGIN
  ALTER TABLE Erp_Inventory ADD IsSurfaceTreatment UdtBool
END		

IF NOT EXISTS (SELECT
      COLUMN_NAME
    FROM INFORMATION_SCHEMA.COLUMNS
    WHERE TABLE_NAME = 'Erp_VariantType'
    AND COLUMN_NAME = 'IsMarkRelation')
BEGIN
  ALTER TABLE Erp_VariantType ADD IsMarkRelation UdtBool
END		</Script>
  </Updates>
  <Updates>
    <Version>
      <Build>5</Build>
      <Major>1</Major>
      <Minor>0</Minor>
      <Revision>-1</Revision>
    </Version>
    <Script>IF NOT EXISTS (SELECT
      COLUMN_NAME
    FROM INFORMATION_SCHEMA.COLUMNS
    WHERE TABLE_NAME = 'Erp_InventoryUnitItemSizeSetDetails'
    AND COLUMN_NAME = 'CategoryId')
BEGIN
  ALTER TABLE Erp_InventoryUnitItemSizeSetDetails ADD CategoryId UdtInt32
END

IF NOT EXISTS (SELECT
      *
    FROM sys.indexes
    WHERE object_id = OBJECT_ID(N'[Erp_InventoryUnitItemSizeSetDetails]')
    AND name = N'Erp_InventoryUnitItemSizeSetDetails_IX1')
  CREATE NONCLUSTERED INDEX [Erp_InventoryUnitItemSizeSetDetails_IX1] ON [Erp_InventoryUnitItemSizeSetDetails]
  (
  [CategoryId] ASC
  ) WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, SORT_IN_TEMPDB = OFF, IGNORE_DUP_KEY = OFF, DROP_EXISTING = OFF, ONLINE = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
GO

IF NOT EXISTS (SELECT
      *
    FROM sys.foreign_keys
    WHERE object_id = OBJECT_ID(N'[FK_Erp_InventoryUnitItemSizeSetDetails_Erp_Category]')
    AND parent_object_id = OBJECT_ID(N'[Erp_InventoryUnitItemSizeSetDetails]'))
  ALTER TABLE [Erp_InventoryUnitItemSizeSetDetails] WITH CHECK ADD CONSTRAINT [FK_Erp_InventoryUnitItemSizeSetDetails_Erp_Category] FOREIGN KEY ([CategoryId])
  REFERENCES [Erp_Category] ([RecId])
GO

IF EXISTS (SELECT
      *
    FROM sys.foreign_keys
    WHERE object_id = OBJECT_ID(N'[FK_Erp_InventoryUnitItemSizeSetDetails_Erp_Category]')
    AND parent_object_id = OBJECT_ID(N'[Erp_InventoryUnitItemSizeSetDetails]'))
  ALTER TABLE [Erp_InventoryUnitItemSizeSetDetails] CHECK CONSTRAINT [FK_Erp_InventoryUnitItemSizeSetDetails_Erp_Category]
GO</Script>
  </Updates>
  <Updates>
    <Version>
      <Build>6</Build>
      <Major>1</Major>
      <Minor>0</Minor>
      <Revision>-1</Revision>
    </Version>
    <Script>IF NOT EXISTS (SELECT
      COLUMN_NAME
    FROM INFORMATION_SCHEMA.COLUMNS
    WHERE TABLE_NAME = 'Erp_UnitItemSizeSetDetails'
    AND COLUMN_NAME = 'CompanyId')
BEGIN
  ALTER TABLE Erp_UnitItemSizeSetDetails ADD CompanyId UdtInt32
END

IF NOT EXISTS (SELECT
      *
    FROM sys.indexes
    WHERE object_id = OBJECT_ID(N'[Erp_UnitItemSizeSetDetails]')
    AND name = N'Erp_UnitItemSizeSetDetails_IX0')
  CREATE NONCLUSTERED INDEX [Erp_UnitItemSizeSetDetails_IX0] ON [Erp_UnitItemSizeSetDetails]
  (
  [CompanyId] ASC,
  [SizeDetailCode] ASC
  ) WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, SORT_IN_TEMPDB = OFF, IGNORE_DUP_KEY = OFF, DROP_EXISTING = OFF, ONLINE = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
GO

IF NOT EXISTS (SELECT
      *
    FROM sys.foreign_keys
    WHERE object_id = OBJECT_ID(N'[FK_Erp_UnitItemSizeSetDetails_Erp_Company]')
    AND parent_object_id = OBJECT_ID(N'[Erp_UnitItemSizeSetDetails]'))
  ALTER TABLE [Erp_UnitItemSizeSetDetails] WITH CHECK ADD CONSTRAINT [FK_Erp_UnitItemSizeSetDetails_Erp_Company] FOREIGN KEY ([CompanyId])
  REFERENCES [Erp_Company] ([RecId])
GO

IF EXISTS (SELECT
      *
    FROM sys.foreign_keys
    WHERE object_id = OBJECT_ID(N'[FK_Erp_UnitItemSizeSetDetails_Erp_Company]')
    AND parent_object_id = OBJECT_ID(N'[Erp_UnitItemSizeSetDetails]'))
  ALTER TABLE [Erp_UnitItemSizeSetDetails] CHECK CONSTRAINT [FK_Erp_UnitItemSizeSetDetails_Erp_Company]
GO</Script>
  </Updates>
  <Updates>
    <Version>
      <Build>7</Build>
      <Major>1</Major>
      <Minor>0</Minor>
      <Revision>-1</Revision>
    </Version>
    <Script>/****** Object:  Table [dbo].[Erp_AttributeSetDetails]    Script Date: 02/10/2011 12:25:43 ******/
		SET ANSI_PADDING ON
		GO
		IF NOT EXISTS (SELECT
		*
		FROM sys.objects
		WHERE object_id = OBJECT_ID(N'[Erp_AttributeSetDetails]')
		AND type IN (N'U'))
		BEGIN
		CREATE TABLE [Erp_AttributeSetDetails] (
		[RecId] [dbo].[UdtRecId] IDENTITY (1, 1) NOT NULL
		,[CompanyId] [dbo].[UdtInt32] NULL
		,[AttributeSetCode] [dbo].[UdtCode] NULL
		,[AttributeSetName] [dbo].[UdtName] NULL
		,[SpecialCode01] [dbo].[UdtName] NULL
		,[SpecialCode02] [dbo].[UdtName] NULL
		,[SpecialCode03] [dbo].[UdtName] NULL
		,[SpecialCode04] [dbo].[UdtName] NULL
		,[SpecialCode05] [dbo].[UdtName] NULL
		,[SpecialCode06] [dbo].[UdtName] NULL
		,[SpecialCode07] [dbo].[UdtName] NULL
		,[SpecialCode08] [dbo].[UdtName] NULL
		,[SpecialCode09] [dbo].[UdtName] NULL
		,[SpecialCode10] [dbo].[UdtName] NULL
		,[InUse] [dbo].[UdtBool] NULL
		,[InsertedAt] [dbo].[UdtDateTime] NULL
		,[InsertedBy] [dbo].[UdtInt32] NULL
		,[UpdatedAt] [dbo].[UdtDateTime] NULL
		,[UpdatedBy] [dbo].[UdtInt32] NULL
		,[IsDeleted] [dbo].[UdtBool] NULL
		,[DeletedAt] [dbo].[UdtDateTime] NULL
		,[DeletedBy] [dbo].[UdtInt32] NULL
		,CONSTRAINT [PK_Erp_AttributeSetDetails] PRIMARY KEY CLUSTERED
		(
		[RecId] ASC
		) WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
		) ON [PRIMARY]
		END
		GO

		SET ANSI_PADDING OFF
		GO

IF NOT EXISTS (SELECT
      *
    FROM sys.indexes
    WHERE object_id = OBJECT_ID(N'[Erp_AttributeSetDetails]')
    AND name = N'Erp_AttributeSetDetails_IX0')
  CREATE NONCLUSTERED INDEX [Erp_AttributeSetDetails_IX0] ON [Erp_AttributeSetDetails]
  (
  [CompanyId] ASC,
  [AttributeSetCode] ASC
  ) WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, SORT_IN_TEMPDB = OFF, IGNORE_DUP_KEY = OFF, DROP_EXISTING = OFF, ONLINE = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
GO

IF NOT EXISTS (SELECT
      *
    FROM sys.foreign_keys
    WHERE object_id = OBJECT_ID(N'[FK_Erp_AttributeSetDetails_Erp_Company]')
    AND parent_object_id = OBJECT_ID(N'[Erp_AttributeSetDetails]'))
  ALTER TABLE [Erp_AttributeSetDetails] WITH CHECK ADD CONSTRAINT [FK_Erp_AttributeSetDetails_Erp_Company] FOREIGN KEY ([CompanyId])
  REFERENCES [Erp_Company] ([RecId])
GO

IF EXISTS (SELECT
      *
    FROM sys.foreign_keys
    WHERE object_id = OBJECT_ID(N'[FK_Erp_AttributeSetDetails_Erp_Company]')
    AND parent_object_id = OBJECT_ID(N'[Erp_AttributeSetDetails]'))
  ALTER TABLE [Erp_AttributeSetDetails] CHECK CONSTRAINT [FK_Erp_AttributeSetDetails_Erp_Company]
GO

/****** Object:  Table [dbo].[Erp_CategoryAttributeSetDetails]    Script Date: 02/10/2011 12:25:43 ******/
		SET ANSI_PADDING ON
		GO
		IF NOT EXISTS (SELECT
		*
		FROM sys.objects
		WHERE object_id = OBJECT_ID(N'[Erp_CategoryAttributeSetDetails]')
		AND type IN (N'U'))
		BEGIN
		CREATE TABLE [Erp_CategoryAttributeSetDetails] (
		[RecId] [dbo].[UdtRecId] IDENTITY (1, 1) NOT NULL
		,[CategoryId] [dbo].[UdtInt32] NULL
		,[AttributeSetCode] [dbo].[UdtCode] NULL
		,[AttributeSetName] [dbo].[UdtName] NULL
		,[SpecialCode01] [dbo].[UdtName] NULL
		,[SpecialCode02] [dbo].[UdtName] NULL
		,[SpecialCode03] [dbo].[UdtName] NULL
		,[SpecialCode04] [dbo].[UdtName] NULL
		,[SpecialCode05] [dbo].[UdtName] NULL
		,[SpecialCode06] [dbo].[UdtName] NULL
		,[SpecialCode07] [dbo].[UdtName] NULL
		,[SpecialCode08] [dbo].[UdtName] NULL
		,[SpecialCode09] [dbo].[UdtName] NULL
		,[SpecialCode10] [dbo].[UdtName] NULL
		,[InUse] [dbo].[UdtBool] NULL
		,[InsertedAt] [dbo].[UdtDateTime] NULL
		,[InsertedBy] [dbo].[UdtInt32] NULL
		,[UpdatedAt] [dbo].[UdtDateTime] NULL
		,[UpdatedBy] [dbo].[UdtInt32] NULL
		,[IsDeleted] [dbo].[UdtBool] NULL
		,[DeletedAt] [dbo].[UdtDateTime] NULL
		,[DeletedBy] [dbo].[UdtInt32] NULL
		,CONSTRAINT [PK_Erp_CategoryAttributeSetDetails] PRIMARY KEY CLUSTERED
		(
		[RecId] ASC
		) WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
		) ON [PRIMARY]
		END
		GO

		SET ANSI_PADDING OFF
		GO

IF NOT EXISTS (SELECT
      *
    FROM sys.indexes
    WHERE object_id = OBJECT_ID(N'[Erp_CategoryAttributeSetDetails]')
    AND name = N'Erp_CategoryAttributeSetDetails_IX0')
  CREATE NONCLUSTERED INDEX [Erp_CategoryAttributeSetDetails_IX0] ON [Erp_CategoryAttributeSetDetails]
  (
  [CategoryId] ASC,
  [AttributeSetCode] ASC
  ) WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, SORT_IN_TEMPDB = OFF, IGNORE_DUP_KEY = OFF, DROP_EXISTING = OFF, ONLINE = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
GO

IF NOT EXISTS (SELECT
      *
    FROM sys.foreign_keys
    WHERE object_id = OBJECT_ID(N'[FK_Erp_CategoryAttributeSetDetails_Erp_Category]')
    AND parent_object_id = OBJECT_ID(N'[Erp_CategoryAttributeSetDetails]'))
  ALTER TABLE [Erp_CategoryAttributeSetDetails] WITH CHECK ADD CONSTRAINT [FK_Erp_CategoryAttributeSetDetails_Erp_Category] FOREIGN KEY ([CategoryId])
  REFERENCES [Erp_Category] ([RecId])
GO

IF EXISTS (SELECT
      *
    FROM sys.foreign_keys
    WHERE object_id = OBJECT_ID(N'[FK_Erp_CategoryAttributeSetDetails_Erp_Category]')
    AND parent_object_id = OBJECT_ID(N'[Erp_CategoryAttributeSetDetails]'))
  ALTER TABLE [Erp_CategoryAttributeSetDetails] CHECK CONSTRAINT [FK_Erp_CategoryAttributeSetDetails_Erp_Category]
GO

IF NOT EXISTS (SELECT
      COLUMN_NAME
    FROM INFORMATION_SCHEMA.COLUMNS
    WHERE TABLE_NAME = 'Erp_QuotationReceiptItem'
    AND COLUMN_NAME = 'CategoryAttributeSetDetailsId')
BEGIN
  ALTER TABLE Erp_QuotationReceiptItem ADD CategoryAttributeSetDetailsId UdtInt64
END

IF NOT EXISTS (SELECT
      *
    FROM sys.foreign_keys
    WHERE object_id = OBJECT_ID(N'[FK_Erp_QuotationReceiptItem_Erp_CategoryAttributeSetDetails]')
    AND parent_object_id = OBJECT_ID(N'[Erp_QuotationReceiptItem]'))
  ALTER TABLE [dbo].[Erp_QuotationReceiptItem] WITH CHECK ADD CONSTRAINT [FK_Erp_QuotationReceiptItem_Erp_CategoryAttributeSetDetails] FOREIGN KEY ([CategoryAttributeSetDetailsId])
  REFERENCES [dbo].[Erp_CategoryAttributeSetDetails] ([RecId])
GO

IF EXISTS (SELECT
      *
    FROM sys.foreign_keys
    WHERE object_id = OBJECT_ID(N'[FK_Erp_QuotationReceiptItem_Erp_CategoryAttributeSetDetails]')
    AND parent_object_id = OBJECT_ID(N'[Erp_QuotationReceiptItem]'))
  ALTER TABLE [dbo].[Erp_QuotationReceiptItem] CHECK CONSTRAINT [FK_Erp_QuotationReceiptItem_Erp_CategoryAttributeSetDetails]
GO


</Script>
  </Updates>
  <Updates>
    <Version>
      <Build>8</Build>
      <Major>1</Major>
      <Minor>0</Minor>
      <Revision>-1</Revision>
    </Version>
    <Script>IF NOT EXISTS (SELECT
      COLUMN_NAME
    FROM INFORMATION_SCHEMA.COLUMNS
    WHERE TABLE_NAME = 'Erp_Category'
    AND COLUMN_NAME = 'AttributeSetId')
BEGIN
  ALTER TABLE Erp_Category ADD AttributeSetId UdtInt32
END

IF NOT EXISTS (SELECT
      *
    FROM sys.foreign_keys
    WHERE object_id = OBJECT_ID(N'[FK_Erp_Category_Erp_InventoryAttributeSet]')
    AND parent_object_id = OBJECT_ID(N'[Erp_Category]'))
  ALTER TABLE [Erp_Category] WITH CHECK ADD CONSTRAINT [FK_Erp_Category_Erp_InventoryAttributeSet] FOREIGN KEY ([AttributeSetId])
  REFERENCES [Erp_InventoryAttributeSet] ([RecId])
GO

IF EXISTS (SELECT
      *
    FROM sys.foreign_keys
    WHERE object_id = OBJECT_ID(N'[FK_Erp_Category_Erp_InventoryAttributeSet]')
    AND parent_object_id = OBJECT_ID(N'[Erp_Category]'))
  ALTER TABLE [Erp_Category] CHECK CONSTRAINT [FK_Erp_Category_Erp_InventoryAttributeSet]
GO


IF NOT EXISTS (SELECT
      COLUMN_NAME
    FROM INFORMATION_SCHEMA.COLUMNS
    WHERE TABLE_NAME = 'Erp_InventoryAttributeSetItem'
    AND COLUMN_NAME = 'IsSelect')
BEGIN
  ALTER TABLE Erp_InventoryAttributeSetItem ADD IsSelect UdtBool
END


IF NOT EXISTS (SELECT
      COLUMN_NAME
    FROM INFORMATION_SCHEMA.COLUMNS
    WHERE TABLE_NAME = 'Erp_QuotationReceiptItem'
    AND COLUMN_NAME = 'AttributeSetItemId')
BEGIN
  ALTER TABLE Erp_QuotationReceiptItem ADD AttributeSetItemId UdtInt64
END

IF NOT EXISTS (SELECT
      *
    FROM sys.foreign_keys
    WHERE object_id = OBJECT_ID(N'[FK_Erp_QuotationReceiptItem_Erp_InventoryAttributeSetItem]')
    AND parent_object_id = OBJECT_ID(N'[Erp_QuotationReceiptItem]'))
  ALTER TABLE [Erp_QuotationReceiptItem] WITH CHECK ADD CONSTRAINT [FK_Erp_QuotationReceiptItem_Erp_InventoryAttributeSetItem] FOREIGN KEY ([AttributeSetItemId])
  REFERENCES [Erp_InventoryAttributeSetItem] ([RecId])
GO

IF EXISTS (SELECT
      *
    FROM sys.foreign_keys
    WHERE object_id = OBJECT_ID(N'[FK_Erp_QuotationReceiptItem_Erp_InventoryAttributeSetItem]')
    AND parent_object_id = OBJECT_ID(N'[Erp_QuotationReceiptItem]'))
  ALTER TABLE [Erp_QuotationReceiptItem] CHECK CONSTRAINT [FK_Erp_QuotationReceiptItem_Erp_InventoryAttributeSetItem]
GO

/****** Object:  Table [dbo].[Erp_QuotationReceiptRecipeItem]    Script Date: 02/10/2011 12:25:43 ******/
		SET ANSI_PADDING ON
		GO
		IF NOT EXISTS (SELECT
		*
		FROM sys.objects
		WHERE object_id = OBJECT_ID(N'[Erp_QuotationReceiptRecipeItem]')
		AND type IN (N'U'))
		BEGIN
		CREATE TABLE [Erp_QuotationReceiptRecipeItem] (
		[RecId] [dbo].[UdtRecId] IDENTITY (1, 1) NOT NULL
		,[QuotationReceiptId] [dbo].[UdtInt64] NULL
		,[InventoryCode] [dbo].[UdtCode] NULL
		,[InventoryName] [dbo].[UdtName] NULL
		,[ArticelNo] [dbo].[UdtName] NULL
		,[PozNo] [dbo].[UdtName] NULL
		,[Quantity] [dbo].[UdtName] NULL
		,[UnitPrice] [dbo].[UdtName] NULL
		,[SizeDetailCode] [dbo].[UdtCode] NULL
		,[SizeDetailName] [dbo].[UdtName] NULL
		,[MarkCode] [dbo].[UdtCode] NULL
		,[MarkName] [dbo].[UdtName] NULL
		,[AttributeSetCode] [dbo].[UdtCode] NULL
		,[AttributeSetName] [dbo].[UdtName] NULL
		,[InUse] [dbo].[UdtBool] NULL
		,[InsertedAt] [dbo].[UdtDateTime] NULL
		,[InsertedBy] [dbo].[UdtInt32] NULL
		,[UpdatedAt] [dbo].[UdtDateTime] NULL
		,[UpdatedBy] [dbo].[UdtInt32] NULL
		,[IsDeleted] [dbo].[UdtBool] NULL
		,[DeletedAt] [dbo].[UdtDateTime] NULL
		,[DeletedBy] [dbo].[UdtInt32] NULL
		,CONSTRAINT [PK_Erp_QuotationReceiptRecipeItem] PRIMARY KEY CLUSTERED
		(
		[RecId] ASC
		) WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
		) ON [PRIMARY]
		END
		GO

		SET ANSI_PADDING OFF
		GO

IF NOT EXISTS (SELECT
      *
    FROM sys.foreign_keys
    WHERE object_id = OBJECT_ID(N'[FK_Erp_QuotationReceiptRecipeItem_Erp_QuotationReceipt]')
    AND parent_object_id = OBJECT_ID(N'[Erp_QuotationReceiptRecipeItem]'))
  ALTER TABLE [Erp_QuotationReceiptRecipeItem] WITH CHECK ADD CONSTRAINT [FK_Erp_QuotationReceiptRecipeItem_Erp_QuotationReceipt] FOREIGN KEY ([QuotationReceiptId])
  REFERENCES [Erp_QuotationReceipt] ([RecId])
GO

IF EXISTS (SELECT
      *
    FROM sys.foreign_keys
    WHERE object_id = OBJECT_ID(N'[FK_Erp_QuotationReceiptRecipeItem_Erp_QuotationReceipt]')
    AND parent_object_id = OBJECT_ID(N'[Erp_QuotationReceiptRecipeItem]'))
  ALTER TABLE [Erp_QuotationReceiptRecipeItem] CHECK CONSTRAINT [FK_Erp_QuotationReceiptRecipeItem_Erp_QuotationReceipt]
GO</Script>
  </Updates>
  <Updates>
    <Version>
      <Build>9</Build>
      <Major>1</Major>
      <Minor>0</Minor>
      <Revision>-1</Revision>
    </Version>
    <Script>		
IF NOT EXISTS (SELECT
      COLUMN_NAME
    FROM INFORMATION_SCHEMA.COLUMNS
    WHERE TABLE_NAME = 'Erp_OrderReceiptItem'
    AND COLUMN_NAME = 'InventoryUnitItemSizeSetDetailsId')
BEGIN
  ALTER TABLE Erp_OrderReceiptItem ADD InventoryUnitItemSizeSetDetailsId UdtInt64
END

IF NOT EXISTS (SELECT
      *
    FROM sys.foreign_keys
    WHERE object_id = OBJECT_ID(N'[FK_Erp_OrderReceiptItem_Erp_InventoryUnitItemSizeSetDetails_InventoryUnitItemSizeSetDetailsId]')
    AND parent_object_id = OBJECT_ID(N'[Erp_OrderReceiptItem]'))
  ALTER TABLE [dbo].[Erp_OrderReceiptItem] WITH CHECK ADD CONSTRAINT [FK_Erp_OrderReceiptItem_Erp_InventoryUnitItemSizeSetDetails_InventoryUnitItemSizeSetDetailsId] FOREIGN KEY ([InventoryUnitItemSizeSetDetailsId])
  REFERENCES [dbo].[Erp_InventoryUnitItemSizeSetDetails] ([RecId])
GO

IF EXISTS (SELECT
      *
    FROM sys.foreign_keys
    WHERE object_id = OBJECT_ID(N'[FK_Erp_OrderReceiptItem_Erp_InventoryUnitItemSizeSetDetails_InventoryUnitItemSizeSetDetailsId]')
    AND parent_object_id = OBJECT_ID(N'[Erp_OrderReceiptItem]'))
  ALTER TABLE [dbo].[Erp_OrderReceiptItem] CHECK CONSTRAINT [FK_Erp_OrderReceiptItem_Erp_InventoryUnitItemSizeSetDetails_InventoryUnitItemSizeSetDetailsId]
GO

IF NOT EXISTS (SELECT
      COLUMN_NAME
    FROM INFORMATION_SCHEMA.COLUMNS
    WHERE TABLE_NAME = 'Erp_OrderReceiptItem'
    AND COLUMN_NAME = 'CategoryAttributeSetDetailsId')
BEGIN
  ALTER TABLE Erp_OrderReceiptItem ADD CategoryAttributeSetDetailsId UdtInt64
END

IF NOT EXISTS (SELECT
      *
    FROM sys.foreign_keys
    WHERE object_id = OBJECT_ID(N'[FK_Erp_OrderReceiptItem_Erp_CategoryAttributeSetDetails]')
    AND parent_object_id = OBJECT_ID(N'[Erp_OrderReceiptItem]'))
  ALTER TABLE [dbo].[Erp_OrderReceiptItem] WITH CHECK ADD CONSTRAINT [FK_Erp_OrderReceiptItem_Erp_CategoryAttributeSetDetails] FOREIGN KEY ([CategoryAttributeSetDetailsId])
  REFERENCES [dbo].[Erp_CategoryAttributeSetDetails] ([RecId])
GO

IF EXISTS (SELECT
      *
    FROM sys.foreign_keys
    WHERE object_id = OBJECT_ID(N'[FK_Erp_OrderReceiptItem_Erp_CategoryAttributeSetDetails]')
    AND parent_object_id = OBJECT_ID(N'[Erp_OrderReceiptItem]'))
  ALTER TABLE [dbo].[Erp_OrderReceiptItem] CHECK CONSTRAINT [FK_Erp_OrderReceiptItem_Erp_CategoryAttributeSetDetails]
GO

IF NOT EXISTS (SELECT
      COLUMN_NAME
    FROM INFORMATION_SCHEMA.COLUMNS
    WHERE TABLE_NAME = 'Erp_OrderReceiptItem'
    AND COLUMN_NAME = 'AttributeSetItemId')
BEGIN
  ALTER TABLE Erp_OrderReceiptItem ADD AttributeSetItemId UdtInt64
END

IF NOT EXISTS (SELECT
      *
    FROM sys.foreign_keys
    WHERE object_id = OBJECT_ID(N'[FK_Erp_OrderReceiptItem_Erp_InventoryAttributeSetItem]')
    AND parent_object_id = OBJECT_ID(N'[Erp_OrderReceiptItem]'))
  ALTER TABLE [Erp_OrderReceiptItem] WITH CHECK ADD CONSTRAINT [FK_Erp_OrderReceiptItem_Erp_InventoryAttributeSetItem] FOREIGN KEY ([AttributeSetItemId])
  REFERENCES [Erp_InventoryAttributeSetItem] ([RecId])
GO

IF EXISTS (SELECT
      *
    FROM sys.foreign_keys
    WHERE object_id = OBJECT_ID(N'[FK_Erp_OrderReceiptItem_Erp_InventoryAttributeSetItem]')
    AND parent_object_id = OBJECT_ID(N'[Erp_OrderReceiptItem]'))
  ALTER TABLE [Erp_OrderReceiptItem] CHECK CONSTRAINT [FK_Erp_OrderReceiptItem_Erp_InventoryAttributeSetItem]
GO

IF NOT EXISTS (SELECT
      COLUMN_NAME
    FROM INFORMATION_SCHEMA.COLUMNS
    WHERE TABLE_NAME = 'Erp_OrderReceiptItem'
    AND COLUMN_NAME = 'AttributeSetItemId')
BEGIN
  ALTER TABLE Erp_OrderReceiptItem ADD AttributeSetItemId UdtInt64
END

IF NOT EXISTS (SELECT
      *
    FROM sys.foreign_keys
    WHERE object_id = OBJECT_ID(N'[FK_Erp_OrderReceiptItem_Erp_InventoryAttributeSetItem]')
    AND parent_object_id = OBJECT_ID(N'[Erp_OrderReceiptItem]'))
  ALTER TABLE [Erp_OrderReceiptItem] WITH CHECK ADD CONSTRAINT [FK_Erp_OrderReceiptItem_Erp_InventoryAttributeSetItem] FOREIGN KEY ([AttributeSetItemId])
  REFERENCES [Erp_InventoryAttributeSetItem] ([RecId])
GO

IF EXISTS (SELECT
      *
    FROM sys.foreign_keys
    WHERE object_id = OBJECT_ID(N'[FK_Erp_OrderReceiptItem_Erp_InventoryAttributeSetItem]')
    AND parent_object_id = OBJECT_ID(N'[Erp_OrderReceiptItem]'))
  ALTER TABLE [Erp_OrderReceiptItem] CHECK CONSTRAINT [FK_Erp_OrderReceiptItem_Erp_InventoryAttributeSetItem]
GO

/****** Object:  Table [dbo].[Erp_OrderReceiptRecipeItem]    Script Date: 02/10/2011 12:25:43 ******/
		SET ANSI_PADDING ON
		GO
		IF NOT EXISTS (SELECT
		*
		FROM sys.objects
		WHERE object_id = OBJECT_ID(N'[Erp_OrderReceiptRecipeItem]')
		AND type IN (N'U'))
		BEGIN
		CREATE TABLE [Erp_OrderReceiptRecipeItem] (
		[RecId] [dbo].[UdtRecId] IDENTITY (1, 1) NOT NULL
		,[OrderReceiptId] [dbo].[UdtInt64] NULL
		,[InventoryCode] [dbo].[UdtCode] NULL
		,[InventoryName] [dbo].[UdtName] NULL
		,[ArticelNo] [dbo].[UdtName] NULL
		,[PozNo] [dbo].[UdtName] NULL
		,[Quantity] [dbo].[UdtName] NULL
		,[UnitPrice] [dbo].[UdtName] NULL
		,[SizeDetailCode] [dbo].[UdtCode] NULL
		,[SizeDetailName] [dbo].[UdtName] NULL
		,[MarkCode] [dbo].[UdtCode] NULL
		,[MarkName] [dbo].[UdtName] NULL
		,[AttributeSetCode] [dbo].[UdtCode] NULL
		,[AttributeSetName] [dbo].[UdtName] NULL
		,[InUse] [dbo].[UdtBool] NULL
		,[InsertedAt] [dbo].[UdtDateTime] NULL
		,[InsertedBy] [dbo].[UdtInt32] NULL
		,[UpdatedAt] [dbo].[UdtDateTime] NULL
		,[UpdatedBy] [dbo].[UdtInt32] NULL
		,[IsDeleted] [dbo].[UdtBool] NULL
		,[DeletedAt] [dbo].[UdtDateTime] NULL
		,[DeletedBy] [dbo].[UdtInt32] NULL
		,CONSTRAINT [PK_Erp_OrderReceiptRecipeItem] PRIMARY KEY CLUSTERED
		(
		[RecId] ASC
		) WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
		) ON [PRIMARY]
		END
		GO

		SET ANSI_PADDING OFF
		GO

IF NOT EXISTS (SELECT
      *
    FROM sys.foreign_keys
    WHERE object_id = OBJECT_ID(N'[FK_Erp_OrderReceiptRecipeItem_Erp_OrderReceipt]')
    AND parent_object_id = OBJECT_ID(N'[Erp_OrderReceiptRecipeItem]'))
  ALTER TABLE [Erp_OrderReceiptRecipeItem] WITH CHECK ADD CONSTRAINT [FK_Erp_OrderReceiptRecipeItem_Erp_OrderReceipt] FOREIGN KEY ([OrderReceiptId])
  REFERENCES [Erp_OrderReceipt] ([RecId])
GO

IF EXISTS (SELECT
      *
    FROM sys.foreign_keys
    WHERE object_id = OBJECT_ID(N'[FK_Erp_OrderReceiptRecipeItem_Erp_OrderReceipt]')
    AND parent_object_id = OBJECT_ID(N'[Erp_OrderReceiptRecipeItem]'))
  ALTER TABLE [Erp_OrderReceiptRecipeItem] CHECK CONSTRAINT [FK_Erp_OrderReceiptRecipeItem_Erp_OrderReceipt]
GO</Script>
  </Updates>
  <CreateScript>
    <DbVersion>
      <Build>9</Build>
      <Major>1</Major>
      <Minor>0</Minor>
      <Revision>-1</Revision>
    </DbVersion>
    <CreateScript>
		/****** Object:  Table [dbo].[Erp_InventoryUnitItemSizeSetDetails]    Script Date: 02/10/2011 12:25:43 ******/
		SET ANSI_PADDING ON
		GO
		IF NOT EXISTS (SELECT
		*
		FROM sys.objects
		WHERE object_id = OBJECT_ID(N'[Erp_InventoryUnitItemSizeSetDetails]')
		AND type IN (N'U'))
		BEGIN
		CREATE TABLE [Erp_InventoryUnitItemSizeSetDetails] (
		[RecId] [dbo].[UdtRecId] IDENTITY (1, 1) NOT NULL
		,[InventoryId] [dbo].[UdtInt64] NULL
		,[CategoryId] [dbo].[UdtInt32] NULL
		,[SizeDetailCode] [dbo].[UdtCode] NULL
		,[SizeDetailName] [dbo].[UdtName] NULL
		,[UnitItemId] [dbo].[UdtInt32] NULL
		,[UnitFactor] [dbo].[UdtQuantity] NULL
		,[UnitDivisor] [dbo].[UdtQuantity] NULL
		,[UnitWidth] [dbo].[UdtQuantity] NULL
		,[UnitWidthUnitId] [dbo].[UdtInt32] NULL
		,[UnitLength] [dbo].[UdtQuantity] NULL
		,[UnitLengthUnitId] [dbo].[UdtInt32] NULL
		,[UnitHeight] [dbo].[UdtQuantity] NULL
		,[UnitHeightUnitId] [dbo].[UdtInt32] NULL
		,[GrossUnitArea] [dbo].[UdtQuantity] NULL
		,[UnitArea] [dbo].[UdtQuantity] NULL
		,[UnitAreaUnitId] [dbo].[UdtInt32] NULL
		,[GrossUnitVolume] [dbo].[UdtQuantity] NULL
		,[UnitVolume] [dbo].[UdtQuantity] NULL
		,[UnitVolumeUnitId] [dbo].[UdtInt32] NULL
		,[UnitWeight] [dbo].[UdtQuantity] NULL
		,[GrossUnitWeight] [dbo].[UdtQuantity] NULL
		,[UnitWeightUnitId] [dbo].[UdtInt32] NULL
		,[UnitDesi] [dbo].[UdtQuantity] NULL
		,[IsMainUnit] [dbo].[UdtBool] NULL
		,[IsDefault] [dbo].[UdtBool] NULL
		,[UniversalCode] [dbo].[UdtCode] NULL
		,[InUse] [dbo].[UdtBool] NULL
		,[InsertedAt] [dbo].[UdtDateTime] NULL
		,[InsertedBy] [dbo].[UdtInt32] NULL
		,[UpdatedAt] [dbo].[UdtDateTime] NULL
		,[UpdatedBy] [dbo].[UdtInt32] NULL
		,[IsDeleted] [dbo].[UdtBool] NULL
		,[DeletedAt] [dbo].[UdtDateTime] NULL
		,[DeletedBy] [dbo].[UdtInt32] NULL
		,CONSTRAINT [PK_Erp_InventoryUnitItemSizeSetDetails] PRIMARY KEY CLUSTERED
		(
		[RecId] ASC
		) WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
		) ON [PRIMARY]
		END
		GO

		SET ANSI_PADDING OFF
		GO
		IF NOT EXISTS (SELECT
		*
		FROM sys.indexes
		WHERE object_id = OBJECT_ID(N'[Erp_InventoryUnitItemSizeSetDetails]')
		AND name = N'Erp_InventoryUnitItemSizeSetDetails_IX0')
		CREATE NONCLUSTERED INDEX [Erp_InventoryUnitItemSizeSetDetails_IX0] ON [Erp_InventoryUnitItemSizeSetDetails]
		(
		[InventoryId] ASC
		) WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, SORT_IN_TEMPDB = OFF, IGNORE_DUP_KEY = OFF, DROP_EXISTING = OFF, ONLINE = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
		GO

		/****** Object:  ForeignKey [FK_Erp_InventoryUnitItemSizeSetDetails_Erp_Inventory]    Script Date: 02/10/2011 12:25:43 ******/
		IF NOT EXISTS (SELECT
		*
		FROM sys.foreign_keys
		WHERE object_id = OBJECT_ID(N'[FK_Erp_InventoryUnitItemSizeSetDetails_Erp_Inventory]')
		AND parent_object_id = OBJECT_ID(N'[Erp_InventoryUnitItemSizeSetDetails]'))
		ALTER TABLE [Erp_InventoryUnitItemSizeSetDetails] WITH CHECK ADD CONSTRAINT [FK_Erp_InventoryUnitItemSizeSetDetails_Erp_Inventory] FOREIGN KEY ([InventoryId])
		REFERENCES [Erp_Inventory] ([RecId])
		GO

		IF EXISTS (SELECT
		*
		FROM sys.foreign_keys
		WHERE object_id = OBJECT_ID(N'[FK_Erp_InventoryUnitItemSizeSetDetails_Erp_Inventory]')
		AND parent_object_id = OBJECT_ID(N'[Erp_InventoryUnitItemSizeSetDetails]'))
		ALTER TABLE [Erp_InventoryUnitItemSizeSetDetails] CHECK CONSTRAINT [FK_Erp_InventoryUnitItemSizeSetDetails_Erp_Inventory]
		GO

		/****** Object:  ForeignKey [FK_Erp_InventoryUnitItemSizeSetDetails_Meta_UnitSetItem]    Script Date: 02/10/2011 12:25:43 ******/
		IF NOT EXISTS (SELECT
		*
		FROM sys.foreign_keys
		WHERE object_id = OBJECT_ID(N'[FK_Erp_InventoryUnitItemSizeSetDetails_Meta_UnitSetItem]')
		AND parent_object_id = OBJECT_ID(N'[Erp_InventoryUnitItemSizeSetDetails]'))
		ALTER TABLE [Erp_InventoryUnitItemSizeSetDetails] WITH CHECK ADD CONSTRAINT [FK_Erp_InventoryUnitItemSizeSetDetails_Meta_UnitSetItem] FOREIGN KEY ([UnitItemId])
		REFERENCES [Meta_UnitSetItem] ([RecId])
		GO

		IF EXISTS (SELECT
		*
		FROM sys.foreign_keys
		WHERE object_id = OBJECT_ID(N'[FK_Erp_InventoryUnitItemSizeSetDetails_Meta_UnitSetItem]')
		AND parent_object_id = OBJECT_ID(N'[Erp_InventoryUnitItemSizeSetDetails]'))
		ALTER TABLE [Erp_InventoryUnitItemSizeSetDetails] CHECK CONSTRAINT [FK_Erp_InventoryUnitItemSizeSetDetails_Meta_UnitSetItem]
		GO

/****** Object:  Table [dbo].[Erp_UnitItemSizeSetDetails]    Script Date: 02/10/2011 12:25:43 ******/
		SET ANSI_PADDING ON
		GO
		IF NOT EXISTS (SELECT
		*
		FROM sys.objects
		WHERE object_id = OBJECT_ID(N'[Erp_UnitItemSizeSetDetails]')
		AND type IN (N'U'))
		BEGIN
		CREATE TABLE [Erp_UnitItemSizeSetDetails] (
		[RecId] [dbo].[UdtRecId] IDENTITY (1, 1) NOT NULL
		,[CompanyId] [dbo].[UdtInt32] NULL
		,[SizeDetailCode] [dbo].[UdtCode] NULL
		,[SizeDetailName] [dbo].[UdtName] NULL
		,[UnitItemId] [dbo].[UdtInt32] NULL
		,[UnitFactor] [dbo].[UdtQuantity] NULL
		,[UnitDivisor] [dbo].[UdtQuantity] NULL
		,[UnitWidth] [dbo].[UdtQuantity] NULL
		,[UnitWidthUnitId] [dbo].[UdtInt32] NULL
		,[UnitLength] [dbo].[UdtQuantity] NULL
		,[UnitLengthUnitId] [dbo].[UdtInt32] NULL
		,[UnitHeight] [dbo].[UdtQuantity] NULL
		,[UnitHeightUnitId] [dbo].[UdtInt32] NULL
		,[GrossUnitArea] [dbo].[UdtQuantity] NULL
		,[UnitArea] [dbo].[UdtQuantity] NULL
		,[UnitAreaUnitId] [dbo].[UdtInt32] NULL
		,[GrossUnitVolume] [dbo].[UdtQuantity] NULL
		,[UnitVolume] [dbo].[UdtQuantity] NULL
		,[UnitVolumeUnitId] [dbo].[UdtInt32] NULL
		,[UnitWeight] [dbo].[UdtQuantity] NULL
		,[GrossUnitWeight] [dbo].[UdtQuantity] NULL
		,[UnitWeightUnitId] [dbo].[UdtInt32] NULL
		,[UnitDesi] [dbo].[UdtQuantity] NULL
		,[IsMainUnit] [dbo].[UdtBool] NULL
		,[IsDefault] [dbo].[UdtBool] NULL
		,[UniversalCode] [dbo].[UdtCode] NULL
		,[InUse] [dbo].[UdtBool] NULL
		,[InsertedAt] [dbo].[UdtDateTime] NULL
		,[InsertedBy] [dbo].[UdtInt32] NULL
		,[UpdatedAt] [dbo].[UdtDateTime] NULL
		,[UpdatedBy] [dbo].[UdtInt32] NULL
		,[IsDeleted] [dbo].[UdtBool] NULL
		,[DeletedAt] [dbo].[UdtDateTime] NULL
		,[DeletedBy] [dbo].[UdtInt32] NULL
		,CONSTRAINT [PK_Erp_UnitItemSizeSetDetails] PRIMARY KEY CLUSTERED
		(
		[RecId] ASC
		) WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
		) ON [PRIMARY]
		END
		GO

		SET ANSI_PADDING OFF
		GO

		/****** Object:  ForeignKey [FK_Erp_UnitItemSizeSetDetails_Meta_UnitSetItem]    Script Date: 02/10/2011 12:25:43 ******/
		IF NOT EXISTS (SELECT
		*
		FROM sys.foreign_keys
		WHERE object_id = OBJECT_ID(N'[FK_Erp_UnitItemSizeSetDetails_Meta_UnitSetItem]')
		AND parent_object_id = OBJECT_ID(N'[Erp_UnitItemSizeSetDetails]'))
		ALTER TABLE [Erp_UnitItemSizeSetDetails] WITH CHECK ADD CONSTRAINT [FK_Erp_UnitItemSizeSetDetails_Meta_UnitSetItem] FOREIGN KEY ([UnitItemId])
		REFERENCES [Meta_UnitSetItem] ([RecId])
		GO

		IF EXISTS (SELECT
		*
		FROM sys.foreign_keys
		WHERE object_id = OBJECT_ID(N'[FK_Erp_UnitItemSizeSetDetails_Meta_UnitSetItem]')
		AND parent_object_id = OBJECT_ID(N'[Erp_UnitItemSizeSetDetails]'))
		ALTER TABLE [Erp_UnitItemSizeSetDetails] CHECK CONSTRAINT [FK_Erp_UnitItemSizeSetDetails_Meta_UnitSetItem]
		GO		
		
IF NOT EXISTS (SELECT
      COLUMN_NAME
    FROM INFORMATION_SCHEMA.COLUMNS
    WHERE TABLE_NAME = 'Erp_QuotationReceiptItem'
    AND COLUMN_NAME = 'InventoryUnitItemSizeSetDetailsId')
BEGIN
  ALTER TABLE Erp_QuotationReceiptItem ADD InventoryUnitItemSizeSetDetailsId UdtInt64
END

IF NOT EXISTS (SELECT
      *
    FROM sys.foreign_keys
    WHERE object_id = OBJECT_ID(N'[FK_Erp_QuotationReceiptItem_Erp_InventoryUnitItemSizeSetDetails_InventoryUnitItemSizeSetDetailsId]')
    AND parent_object_id = OBJECT_ID(N'[Erp_QuotationReceiptItem]'))
  ALTER TABLE [dbo].[Erp_QuotationReceiptItem] WITH CHECK ADD CONSTRAINT [FK_Erp_QuotationReceiptItem_Erp_InventoryUnitItemSizeSetDetails_InventoryUnitItemSizeSetDetailsId] FOREIGN KEY ([InventoryUnitItemSizeSetDetailsId])
  REFERENCES [dbo].[Erp_InventoryUnitItemSizeSetDetails] ([RecId])
GO

IF EXISTS (SELECT
      *
    FROM sys.foreign_keys
    WHERE object_id = OBJECT_ID(N'[FK_Erp_QuotationReceiptItem_Erp_InventoryUnitItemSizeSetDetails_InventoryUnitItemSizeSetDetailsId]')
    AND parent_object_id = OBJECT_ID(N'[Erp_QuotationReceiptItem]'))
  ALTER TABLE [dbo].[Erp_QuotationReceiptItem] CHECK CONSTRAINT [FK_Erp_QuotationReceiptItem_Erp_InventoryUnitItemSizeSetDetails_InventoryUnitItemSizeSetDetailsId]
GO



	IF NOT EXISTS (SELECT
		*
		FROM sys.objects
		WHERE object_id = OBJECT_ID(N'[Erp_VariantItemMark]')
		AND type IN (N'U'))
		BEGIN
		CREATE TABLE [Erp_VariantItemMark] (
		[RecId] [dbo].[UdtRecId] IDENTITY (1, 1) NOT NULL
		,[TypeId] [dbo].[UdtInt32] NULL
		,[CardId] [dbo].[UdtInt32] NULL
		,[VariantItemId] [dbo].[UdtInt32] NULL
		,[MarkId] [dbo].[UdtInt64] NULL
		,[InUse] [dbo].[UdtBool] NULL
		,[InsertedAt] [dbo].[UdtDateTime] NULL
		,[InsertedBy] [dbo].[UdtInt32] NULL
		,[UpdatedAt] [dbo].[UdtDateTime] NULL
		,[UpdatedBy] [dbo].[UdtInt32] NULL
		,[IsDeleted] [dbo].[UdtBool] NULL
		,[DeletedAt] [dbo].[UdtDateTime] NULL
		,[DeletedBy] [dbo].[UdtInt32] NULL
		,CONSTRAINT [PK_Erp_VariantItemMark] PRIMARY KEY CLUSTERED
		(
		[RecId] ASC
		) WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
		) ON [PRIMARY]
		END
		GO

		SET ANSI_PADDING OFF
		GO
		IF NOT EXISTS (SELECT
		*
		FROM sys.indexes
		WHERE object_id = OBJECT_ID(N'[Erp_VariantItemMark]')
		AND name = N'Erp_VariantItemMark_IX0')
		CREATE NONCLUSTERED INDEX [Erp_VariantItemMark_IX0] ON [Erp_VariantItemMark]
		(
		[VariantItemId] ASC
		) WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, SORT_IN_TEMPDB = OFF, IGNORE_DUP_KEY = OFF, DROP_EXISTING = OFF, ONLINE = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
		GO

		IF NOT EXISTS (SELECT
		*
		FROM sys.foreign_keys
		WHERE object_id = OBJECT_ID(N'[FK_Erp_VariantItemMark_Erp_VariantItem]')
		AND parent_object_id = OBJECT_ID(N'[Erp_VariantItemMark]'))
		ALTER TABLE [Erp_VariantItemMark] WITH CHECK ADD CONSTRAINT [FK_Erp_VariantItemMark_Erp_VariantItem] FOREIGN KEY ([VariantItemId])
		REFERENCES [Erp_VariantItem] ([RecId])
		GO

		IF EXISTS (SELECT
		*
		FROM sys.foreign_keys
		WHERE object_id = OBJECT_ID(N'[FK_Erp_VariantItemMark_Erp_VariantItem]')
		AND parent_object_id = OBJECT_ID(N'[Erp_VariantItemMark]'))
		ALTER TABLE [Erp_VariantItemMark] CHECK CONSTRAINT [FK_Erp_VariantItemMark_Erp_VariantItem]
		GO

		IF NOT EXISTS (SELECT
		*
		FROM sys.foreign_keys
		WHERE object_id = OBJECT_ID(N'[FK_Erp_VariantItemMark_Erp_Mark]')
		AND parent_object_id = OBJECT_ID(N'[Erp_VariantItemMark]'))
		ALTER TABLE [Erp_VariantItemMark] WITH CHECK ADD CONSTRAINT [FK_Erp_VariantItemMark_Erp_Mark] FOREIGN KEY ([MarkId])
		REFERENCES [Erp_Mark] ([RecId])
		GO

		IF EXISTS (SELECT
		*
		FROM sys.foreign_keys
		WHERE object_id = OBJECT_ID(N'[FK_Erp_VariantItemMark_Erp_Mark]')
		AND parent_object_id = OBJECT_ID(N'[Erp_VariantItemMark]'))
		ALTER TABLE [Erp_VariantItemMark] CHECK CONSTRAINT [FK_Erp_VariantItemMark_Erp_Mark]
		GO


		IF NOT EXISTS (SELECT
		*
		FROM sys.foreign_keys
		WHERE object_id = OBJECT_ID(N'[FK_Erp_VariantItemMark_Erp_VariantCard]')
		AND parent_object_id = OBJECT_ID(N'[Erp_VariantItemMark]'))
		ALTER TABLE [Erp_VariantItemMark] WITH CHECK ADD CONSTRAINT [FK_Erp_VariantItemMark_Erp_VariantCard] FOREIGN KEY ([CardId])
		REFERENCES [Erp_VariantCard] ([RecId])
		GO

		IF EXISTS (SELECT
		*
		FROM sys.foreign_keys
		WHERE object_id = OBJECT_ID(N'[FK_Erp_VariantItemMark_Erp_VariantCard]')
		AND parent_object_id = OBJECT_ID(N'[Erp_VariantItemMark]'))
		ALTER TABLE [Erp_VariantItemMark] CHECK CONSTRAINT [FK_Erp_VariantItemMark_Erp_VariantCard]
		GO


		IF NOT EXISTS (SELECT
		*
		FROM sys.foreign_keys
		WHERE object_id = OBJECT_ID(N'[FK_Erp_VariantItemMark_Erp_VariantType]')
		AND parent_object_id = OBJECT_ID(N'[Erp_VariantItemMark]'))
		ALTER TABLE [Erp_VariantItemMark] WITH CHECK ADD CONSTRAINT [FK_Erp_VariantItemMark_Erp_VariantType] FOREIGN KEY ([TypeId])
		REFERENCES [Erp_VariantType] ([RecId])
		GO

		IF EXISTS (SELECT
		*
		FROM sys.foreign_keys
		WHERE object_id = OBJECT_ID(N'[FK_Erp_VariantItemMark_Erp_VariantType]')
		AND parent_object_id = OBJECT_ID(N'[Erp_VariantItemMark]'))
		ALTER TABLE [Erp_VariantItemMark] CHECK CONSTRAINT [FK_Erp_VariantItemMark_Erp_VariantType]
		GO

				
		IF NOT EXISTS (SELECT
		*
		FROM sys.objects
		WHERE object_id = OBJECT_ID(N'[Erp_InventoryMark]')
		AND type IN (N'U'))
		BEGIN
		CREATE TABLE [Erp_InventoryMark] (
		[RecId] [dbo].[UdtRecId] IDENTITY (1, 1) NOT NULL
		,[InventoryId] [dbo].[UdtInt64] NULL
		,[MarkId] [dbo].[UdtInt64] NULL
		,[InUse] [dbo].[UdtBool] NULL
		,[InsertedAt] [dbo].[UdtDateTime] NULL
		,[InsertedBy] [dbo].[UdtInt32] NULL
		,[UpdatedAt] [dbo].[UdtDateTime] NULL
		,[UpdatedBy] [dbo].[UdtInt32] NULL
		,[IsDeleted] [dbo].[UdtBool] NULL
		,[DeletedAt] [dbo].[UdtDateTime] NULL
		,[DeletedBy] [dbo].[UdtInt32] NULL
		,CONSTRAINT [PK_Erp_InventoryMark] PRIMARY KEY CLUSTERED
		(
		[RecId] ASC
		) WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
		) ON [PRIMARY]
		END
		GO

		SET ANSI_PADDING OFF
		GO
		IF NOT EXISTS (SELECT
		*
		FROM sys.indexes
		WHERE object_id = OBJECT_ID(N'[Erp_InventoryMark]')
		AND name = N'Erp_InventoryMark_IX0')
		CREATE NONCLUSTERED INDEX [Erp_InventoryMark_IX0] ON [Erp_InventoryMark]
		(
		[InventoryId] ASC
		) WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, SORT_IN_TEMPDB = OFF, IGNORE_DUP_KEY = OFF, DROP_EXISTING = OFF, ONLINE = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
		GO

		IF NOT EXISTS (SELECT
		*
		FROM sys.foreign_keys
		WHERE object_id = OBJECT_ID(N'[FK_Erp_InventoryMark_Erp_Inventory]')
		AND parent_object_id = OBJECT_ID(N'[Erp_InventoryMark]'))
		ALTER TABLE [Erp_InventoryMark] WITH CHECK ADD CONSTRAINT [FK_Erp_InventoryMark_Erp_Inventory] FOREIGN KEY ([InventoryId])
		REFERENCES [Erp_Inventory] ([RecId])
		GO

		IF EXISTS (SELECT
		*
		FROM sys.foreign_keys
		WHERE object_id = OBJECT_ID(N'[FK_Erp_InventoryMark_Erp_Inventory]')
		AND parent_object_id = OBJECT_ID(N'[Erp_InventoryMark]'))
		ALTER TABLE [Erp_InventoryMark] CHECK CONSTRAINT [FK_Erp_InventoryMark_Erp_Inventory]
		GO


		IF NOT EXISTS (SELECT
		*
		FROM sys.foreign_keys
		WHERE object_id = OBJECT_ID(N'[FK_Erp_InventoryMark_Erp_Mark]')
		AND parent_object_id = OBJECT_ID(N'[Erp_InventoryMark]'))
		ALTER TABLE [Erp_InventoryMark] WITH CHECK ADD CONSTRAINT [FK_Erp_InventoryMark_Erp_Mark] FOREIGN KEY ([MarkId])
		REFERENCES [Erp_Mark] ([RecId])
		GO

		IF EXISTS (SELECT
		*
		FROM sys.foreign_keys
		WHERE object_id = OBJECT_ID(N'[FK_Erp_InventoryMark_Erp_Mark]')
		AND parent_object_id = OBJECT_ID(N'[Erp_InventoryMark]'))
		ALTER TABLE [Erp_InventoryMark] CHECK CONSTRAINT [FK_Erp_InventoryMark_Erp_Mark]
		GO
		
IF NOT EXISTS (SELECT
      COLUMN_NAME
    FROM INFORMATION_SCHEMA.COLUMNS
    WHERE TABLE_NAME = 'Erp_Inventory'
    AND COLUMN_NAME = 'IsSurfaceTreatment')
BEGIN
  ALTER TABLE Erp_Inventory ADD IsSurfaceTreatment UdtBool
END		

IF NOT EXISTS (SELECT
      COLUMN_NAME
    FROM INFORMATION_SCHEMA.COLUMNS
    WHERE TABLE_NAME = 'Erp_VariantType'
    AND COLUMN_NAME = 'IsMarkRelation')
BEGIN
  ALTER TABLE Erp_VariantType ADD IsMarkRelation UdtBool
END	

IF NOT EXISTS (SELECT
      COLUMN_NAME
    FROM INFORMATION_SCHEMA.COLUMNS
    WHERE TABLE_NAME = 'Erp_InventoryUnitItemSizeSetDetails'
    AND COLUMN_NAME = 'CategoryId')
BEGIN
  ALTER TABLE Erp_InventoryUnitItemSizeSetDetails ADD CategoryId UdtInt32
END

IF NOT EXISTS (SELECT
      *
    FROM sys.indexes
    WHERE object_id = OBJECT_ID(N'[Erp_InventoryUnitItemSizeSetDetails]')
    AND name = N'Erp_InventoryUnitItemSizeSetDetails_IX1')
  CREATE NONCLUSTERED INDEX [Erp_InventoryUnitItemSizeSetDetails_IX1] ON [Erp_InventoryUnitItemSizeSetDetails]
  (
  [CategoryId] ASC
  ) WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, SORT_IN_TEMPDB = OFF, IGNORE_DUP_KEY = OFF, DROP_EXISTING = OFF, ONLINE = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
GO

IF NOT EXISTS (SELECT
      *
    FROM sys.foreign_keys
    WHERE object_id = OBJECT_ID(N'[FK_Erp_InventoryUnitItemSizeSetDetails_Erp_Category]')
    AND parent_object_id = OBJECT_ID(N'[Erp_InventoryUnitItemSizeSetDetails]'))
  ALTER TABLE [Erp_InventoryUnitItemSizeSetDetails] WITH CHECK ADD CONSTRAINT [FK_Erp_InventoryUnitItemSizeSetDetails_Erp_Category] FOREIGN KEY ([CategoryId])
  REFERENCES [Erp_Category] ([RecId])
GO

IF EXISTS (SELECT
      *
    FROM sys.foreign_keys
    WHERE object_id = OBJECT_ID(N'[FK_Erp_InventoryUnitItemSizeSetDetails_Erp_Category]')
    AND parent_object_id = OBJECT_ID(N'[Erp_InventoryUnitItemSizeSetDetails]'))
  ALTER TABLE [Erp_InventoryUnitItemSizeSetDetails] CHECK CONSTRAINT [FK_Erp_InventoryUnitItemSizeSetDetails_Erp_Category]
GO

IF NOT EXISTS (SELECT
      *
    FROM sys.indexes
    WHERE object_id = OBJECT_ID(N'[Erp_UnitItemSizeSetDetails]')
    AND name = N'Erp_UnitItemSizeSetDetails_IX0')
  CREATE NONCLUSTERED INDEX [Erp_UnitItemSizeSetDetails_IX0] ON [Erp_UnitItemSizeSetDetails]
  (
  [CompanyId] ASC,
  [SizeDetailCode] ASC
  ) WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, SORT_IN_TEMPDB = OFF, IGNORE_DUP_KEY = OFF, DROP_EXISTING = OFF, ONLINE = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
GO

IF NOT EXISTS (SELECT
      *
    FROM sys.foreign_keys
    WHERE object_id = OBJECT_ID(N'[FK_Erp_UnitItemSizeSetDetails_Erp_Company]')
    AND parent_object_id = OBJECT_ID(N'[Erp_UnitItemSizeSetDetails]'))
  ALTER TABLE [Erp_UnitItemSizeSetDetails] WITH CHECK ADD CONSTRAINT [FK_Erp_UnitItemSizeSetDetails_Erp_Company] FOREIGN KEY ([CompanyId])
  REFERENCES [Erp_Company] ([RecId])
GO

IF EXISTS (SELECT
      *
    FROM sys.foreign_keys
    WHERE object_id = OBJECT_ID(N'[FK_Erp_UnitItemSizeSetDetails_Erp_Company]')
    AND parent_object_id = OBJECT_ID(N'[Erp_UnitItemSizeSetDetails]'))
  ALTER TABLE [Erp_UnitItemSizeSetDetails] CHECK CONSTRAINT [FK_Erp_UnitItemSizeSetDetails_Erp_Company]
GO

/****** Object:  Table [dbo].[Erp_AttributeSetDetails]    Script Date: 02/10/2011 12:25:43 ******/
		SET ANSI_PADDING ON
		GO
		IF NOT EXISTS (SELECT
		*
		FROM sys.objects
		WHERE object_id = OBJECT_ID(N'[Erp_AttributeSetDetails]')
		AND type IN (N'U'))
		BEGIN
		CREATE TABLE [Erp_AttributeSetDetails] (
		[RecId] [dbo].[UdtRecId] IDENTITY (1, 1) NOT NULL
		,[CompanyId] [dbo].[UdtInt32] NULL
		,[AttributeSetCode] [dbo].[UdtCode] NULL
		,[AttributeSetName] [dbo].[UdtName] NULL
		,[SpecialCode01] [dbo].[UdtName] NULL
		,[SpecialCode02] [dbo].[UdtName] NULL
		,[SpecialCode03] [dbo].[UdtName] NULL
		,[SpecialCode04] [dbo].[UdtName] NULL
		,[SpecialCode05] [dbo].[UdtName] NULL
		,[SpecialCode06] [dbo].[UdtName] NULL
		,[SpecialCode07] [dbo].[UdtName] NULL
		,[SpecialCode08] [dbo].[UdtName] NULL
		,[SpecialCode09] [dbo].[UdtName] NULL
		,[SpecialCode10] [dbo].[UdtName] NULL
		,[InUse] [dbo].[UdtBool] NULL
		,[InsertedAt] [dbo].[UdtDateTime] NULL
		,[InsertedBy] [dbo].[UdtInt32] NULL
		,[UpdatedAt] [dbo].[UdtDateTime] NULL
		,[UpdatedBy] [dbo].[UdtInt32] NULL
		,[IsDeleted] [dbo].[UdtBool] NULL
		,[DeletedAt] [dbo].[UdtDateTime] NULL
		,[DeletedBy] [dbo].[UdtInt32] NULL
		,CONSTRAINT [PK_Erp_AttributeSetDetails] PRIMARY KEY CLUSTERED
		(
		[RecId] ASC
		) WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
		) ON [PRIMARY]
		END
		GO

		SET ANSI_PADDING OFF
		GO

IF NOT EXISTS (SELECT
      *
    FROM sys.indexes
    WHERE object_id = OBJECT_ID(N'[Erp_AttributeSetDetails]')
    AND name = N'Erp_AttributeSetDetails_IX0')
  CREATE NONCLUSTERED INDEX [Erp_AttributeSetDetails_IX0] ON [Erp_AttributeSetDetails]
  (
  [CompanyId] ASC,
  [AttributeSetCode] ASC
  ) WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, SORT_IN_TEMPDB = OFF, IGNORE_DUP_KEY = OFF, DROP_EXISTING = OFF, ONLINE = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
GO

IF NOT EXISTS (SELECT
      *
    FROM sys.foreign_keys
    WHERE object_id = OBJECT_ID(N'[FK_Erp_AttributeSetDetails_Erp_Company]')
    AND parent_object_id = OBJECT_ID(N'[Erp_AttributeSetDetails]'))
  ALTER TABLE [Erp_AttributeSetDetails] WITH CHECK ADD CONSTRAINT [FK_Erp_AttributeSetDetails_Erp_Company] FOREIGN KEY ([CompanyId])
  REFERENCES [Erp_Company] ([RecId])
GO

IF EXISTS (SELECT
      *
    FROM sys.foreign_keys
    WHERE object_id = OBJECT_ID(N'[FK_Erp_AttributeSetDetails_Erp_Company]')
    AND parent_object_id = OBJECT_ID(N'[Erp_AttributeSetDetails]'))
  ALTER TABLE [Erp_AttributeSetDetails] CHECK CONSTRAINT [FK_Erp_AttributeSetDetails_Erp_Company]
GO

/****** Object:  Table [dbo].[Erp_CategoryAttributeSetDetails]    Script Date: 02/10/2011 12:25:43 ******/
		SET ANSI_PADDING ON
		GO
		IF NOT EXISTS (SELECT
		*
		FROM sys.objects
		WHERE object_id = OBJECT_ID(N'[Erp_CategoryAttributeSetDetails]')
		AND type IN (N'U'))
		BEGIN
		CREATE TABLE [Erp_CategoryAttributeSetDetails] (
		[RecId] [dbo].[UdtRecId] IDENTITY (1, 1) NOT NULL
		,[CategoryId] [dbo].[UdtInt32] NULL
		,[AttributeSetCode] [dbo].[UdtCode] NULL
		,[AttributeSetName] [dbo].[UdtName] NULL
		,[SpecialCode01] [dbo].[UdtName] NULL
		,[SpecialCode02] [dbo].[UdtName] NULL
		,[SpecialCode03] [dbo].[UdtName] NULL
		,[SpecialCode04] [dbo].[UdtName] NULL
		,[SpecialCode05] [dbo].[UdtName] NULL
		,[SpecialCode06] [dbo].[UdtName] NULL
		,[SpecialCode07] [dbo].[UdtName] NULL
		,[SpecialCode08] [dbo].[UdtName] NULL
		,[SpecialCode09] [dbo].[UdtName] NULL
		,[SpecialCode10] [dbo].[UdtName] NULL
		,[InUse] [dbo].[UdtBool] NULL
		,[InsertedAt] [dbo].[UdtDateTime] NULL
		,[InsertedBy] [dbo].[UdtInt32] NULL
		,[UpdatedAt] [dbo].[UdtDateTime] NULL
		,[UpdatedBy] [dbo].[UdtInt32] NULL
		,[IsDeleted] [dbo].[UdtBool] NULL
		,[DeletedAt] [dbo].[UdtDateTime] NULL
		,[DeletedBy] [dbo].[UdtInt32] NULL
		,CONSTRAINT [PK_Erp_CategoryAttributeSetDetails] PRIMARY KEY CLUSTERED
		(
		[RecId] ASC
		) WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
		) ON [PRIMARY]
		END
		GO

		SET ANSI_PADDING OFF
		GO

IF NOT EXISTS (SELECT
      *
    FROM sys.indexes
    WHERE object_id = OBJECT_ID(N'[Erp_CategoryAttributeSetDetails]')
    AND name = N'Erp_CategoryAttributeSetDetails_IX0')
  CREATE NONCLUSTERED INDEX [Erp_CategoryAttributeSetDetails_IX0] ON [Erp_CategoryAttributeSetDetails]
  (
  [CategoryId] ASC,
  [AttributeSetCode] ASC
  ) WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, SORT_IN_TEMPDB = OFF, IGNORE_DUP_KEY = OFF, DROP_EXISTING = OFF, ONLINE = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
GO

IF NOT EXISTS (SELECT
      *
    FROM sys.foreign_keys
    WHERE object_id = OBJECT_ID(N'[FK_Erp_CategoryAttributeSetDetails_Erp_Category]')
    AND parent_object_id = OBJECT_ID(N'[Erp_CategoryAttributeSetDetails]'))
  ALTER TABLE [Erp_CategoryAttributeSetDetails] WITH CHECK ADD CONSTRAINT [FK_Erp_CategoryAttributeSetDetails_Erp_Category] FOREIGN KEY ([CategoryId])
  REFERENCES [Erp_Category] ([RecId])
GO

IF EXISTS (SELECT
      *
    FROM sys.foreign_keys
    WHERE object_id = OBJECT_ID(N'[FK_Erp_CategoryAttributeSetDetails_Erp_Category]')
    AND parent_object_id = OBJECT_ID(N'[Erp_CategoryAttributeSetDetails]'))
  ALTER TABLE [Erp_CategoryAttributeSetDetails] CHECK CONSTRAINT [FK_Erp_CategoryAttributeSetDetails_Erp_Category]
GO

IF NOT EXISTS (SELECT
      COLUMN_NAME
    FROM INFORMATION_SCHEMA.COLUMNS
    WHERE TABLE_NAME = 'Erp_QuotationReceiptItem'
    AND COLUMN_NAME = 'CategoryAttributeSetDetailsId')
BEGIN
  ALTER TABLE Erp_QuotationReceiptItem ADD CategoryAttributeSetDetailsId UdtInt64
END

IF NOT EXISTS (SELECT
      *
    FROM sys.foreign_keys
    WHERE object_id = OBJECT_ID(N'[FK_Erp_QuotationReceiptItem_Erp_CategoryAttributeSetDetails]')
    AND parent_object_id = OBJECT_ID(N'[Erp_QuotationReceiptItem]'))
  ALTER TABLE [dbo].[Erp_QuotationReceiptItem] WITH CHECK ADD CONSTRAINT [FK_Erp_QuotationReceiptItem_Erp_CategoryAttributeSetDetails] FOREIGN KEY ([CategoryAttributeSetDetailsId])
  REFERENCES [dbo].[Erp_CategoryAttributeSetDetails] ([RecId])
GO

IF EXISTS (SELECT
      *
    FROM sys.foreign_keys
    WHERE object_id = OBJECT_ID(N'[FK_Erp_QuotationReceiptItem_Erp_CategoryAttributeSetDetails]')
    AND parent_object_id = OBJECT_ID(N'[Erp_QuotationReceiptItem]'))
  ALTER TABLE [dbo].[Erp_QuotationReceiptItem] CHECK CONSTRAINT [FK_Erp_QuotationReceiptItem_Erp_CategoryAttributeSetDetails]
GO


IF NOT EXISTS (SELECT
      COLUMN_NAME
    FROM INFORMATION_SCHEMA.COLUMNS
    WHERE TABLE_NAME = 'Erp_Category'
    AND COLUMN_NAME = 'AttributeSetId')
BEGIN
  ALTER TABLE Erp_Category ADD AttributeSetId UdtInt32
END

IF NOT EXISTS (SELECT
      *
    FROM sys.foreign_keys
    WHERE object_id = OBJECT_ID(N'[FK_Erp_Category_Erp_InventoryAttributeSet]')
    AND parent_object_id = OBJECT_ID(N'[Erp_Category]'))
  ALTER TABLE [Erp_Category] WITH CHECK ADD CONSTRAINT [FK_Erp_Category_Erp_InventoryAttributeSet] FOREIGN KEY ([AttributeSetId])
  REFERENCES [Erp_InventoryAttributeSet] ([RecId])
GO

IF EXISTS (SELECT
      *
    FROM sys.foreign_keys
    WHERE object_id = OBJECT_ID(N'[FK_Erp_Category_Erp_InventoryAttributeSet]')
    AND parent_object_id = OBJECT_ID(N'[Erp_Category]'))
  ALTER TABLE [Erp_Category] CHECK CONSTRAINT [FK_Erp_Category_Erp_InventoryAttributeSet]
GO


IF NOT EXISTS (SELECT
      COLUMN_NAME
    FROM INFORMATION_SCHEMA.COLUMNS
    WHERE TABLE_NAME = 'Erp_InventoryAttributeSetItem'
    AND COLUMN_NAME = 'IsSelect')
BEGIN
  ALTER TABLE Erp_InventoryAttributeSetItem ADD IsSelect UdtBool
END


IF NOT EXISTS (SELECT
      COLUMN_NAME
    FROM INFORMATION_SCHEMA.COLUMNS
    WHERE TABLE_NAME = 'Erp_QuotationReceiptItem'
    AND COLUMN_NAME = 'AttributeSetItemId')
BEGIN
  ALTER TABLE Erp_QuotationReceiptItem ADD AttributeSetItemId UdtInt64
END

IF NOT EXISTS (SELECT
      *
    FROM sys.foreign_keys
    WHERE object_id = OBJECT_ID(N'[FK_Erp_QuotationReceiptItem_Erp_InventoryAttributeSetItem]')
    AND parent_object_id = OBJECT_ID(N'[Erp_QuotationReceiptItem]'))
  ALTER TABLE [Erp_QuotationReceiptItem] WITH CHECK ADD CONSTRAINT [FK_Erp_QuotationReceiptItem_Erp_InventoryAttributeSetItem] FOREIGN KEY ([AttributeSetItemId])
  REFERENCES [Erp_InventoryAttributeSetItem] ([RecId])
GO

IF EXISTS (SELECT
      *
    FROM sys.foreign_keys
    WHERE object_id = OBJECT_ID(N'[FK_Erp_QuotationReceiptItem_Erp_InventoryAttributeSetItem]')
    AND parent_object_id = OBJECT_ID(N'[Erp_QuotationReceiptItem]'))
  ALTER TABLE [Erp_QuotationReceiptItem] CHECK CONSTRAINT [FK_Erp_QuotationReceiptItem_Erp_InventoryAttributeSetItem]
GO


IF NOT EXISTS (SELECT
      COLUMN_NAME
    FROM INFORMATION_SCHEMA.COLUMNS
    WHERE TABLE_NAME = 'Erp_Category'
    AND COLUMN_NAME = 'AttributeSetId')
BEGIN
  ALTER TABLE Erp_Category ADD AttributeSetId UdtInt32
END

IF NOT EXISTS (SELECT
      *
    FROM sys.foreign_keys
    WHERE object_id = OBJECT_ID(N'[FK_Erp_Category_Erp_InventoryAttributeSet]')
    AND parent_object_id = OBJECT_ID(N'[Erp_Category]'))
  ALTER TABLE [Erp_Category] WITH CHECK ADD CONSTRAINT [FK_Erp_Category_Erp_InventoryAttributeSet] FOREIGN KEY ([AttributeSetId])
  REFERENCES [Erp_InventoryAttributeSet] ([RecId])
GO

IF EXISTS (SELECT
      *
    FROM sys.foreign_keys
    WHERE object_id = OBJECT_ID(N'[FK_Erp_Category_Erp_InventoryAttributeSet]')
    AND parent_object_id = OBJECT_ID(N'[Erp_Category]'))
  ALTER TABLE [Erp_Category] CHECK CONSTRAINT [FK_Erp_Category_Erp_InventoryAttributeSet]
GO


IF NOT EXISTS (SELECT
      COLUMN_NAME
    FROM INFORMATION_SCHEMA.COLUMNS
    WHERE TABLE_NAME = 'Erp_InventoryAttributeSetItem'
    AND COLUMN_NAME = 'IsSelect')
BEGIN
  ALTER TABLE Erp_InventoryAttributeSetItem ADD IsSelect UdtBool
END


IF NOT EXISTS (SELECT
      COLUMN_NAME
    FROM INFORMATION_SCHEMA.COLUMNS
    WHERE TABLE_NAME = 'Erp_QuotationReceiptItem'
    AND COLUMN_NAME = 'AttributeSetItemId')
BEGIN
  ALTER TABLE Erp_QuotationReceiptItem ADD AttributeSetItemId UdtInt64
END

IF NOT EXISTS (SELECT
      *
    FROM sys.foreign_keys
    WHERE object_id = OBJECT_ID(N'[FK_Erp_QuotationReceiptItem_Erp_InventoryAttributeSetItem]')
    AND parent_object_id = OBJECT_ID(N'[Erp_QuotationReceiptItem]'))
  ALTER TABLE [Erp_QuotationReceiptItem] WITH CHECK ADD CONSTRAINT [FK_Erp_QuotationReceiptItem_Erp_InventoryAttributeSetItem] FOREIGN KEY ([AttributeSetItemId])
  REFERENCES [Erp_InventoryAttributeSetItem] ([RecId])
GO

IF EXISTS (SELECT
      *
    FROM sys.foreign_keys
    WHERE object_id = OBJECT_ID(N'[FK_Erp_QuotationReceiptItem_Erp_InventoryAttributeSetItem]')
    AND parent_object_id = OBJECT_ID(N'[Erp_QuotationReceiptItem]'))
  ALTER TABLE [Erp_QuotationReceiptItem] CHECK CONSTRAINT [FK_Erp_QuotationReceiptItem_Erp_InventoryAttributeSetItem]
GO

/****** Object:  Table [dbo].[Erp_QuotationReceiptRecipeItem]    Script Date: 02/10/2011 12:25:43 ******/
		SET ANSI_PADDING ON
		GO
		IF NOT EXISTS (SELECT
		*
		FROM sys.objects
		WHERE object_id = OBJECT_ID(N'[Erp_QuotationReceiptRecipeItem]')
		AND type IN (N'U'))
		BEGIN
		CREATE TABLE [Erp_QuotationReceiptRecipeItem] (
		[RecId] [dbo].[UdtRecId] IDENTITY (1, 1) NOT NULL
		,[QuotationReceiptId] [dbo].[UdtInt64] NULL
		,[InventoryCode] [dbo].[UdtCode] NULL
		,[InventoryName] [dbo].[UdtName] NULL
		,[ArticelNo] [dbo].[UdtName] NULL
		,[PozNo] [dbo].[UdtName] NULL
		,[Quantity] [dbo].[UdtName] NULL
		,[UnitPrice] [dbo].[UdtName] NULL
		,[SizeDetailCode] [dbo].[UdtCode] NULL
		,[SizeDetailName] [dbo].[UdtName] NULL
		,[MarkCode] [dbo].[UdtCode] NULL
		,[MarkName] [dbo].[UdtName] NULL
		,[AttributeSetCode] [dbo].[UdtCode] NULL
		,[AttributeSetName] [dbo].[UdtName] NULL
		,[InUse] [dbo].[UdtBool] NULL
		,[InsertedAt] [dbo].[UdtDateTime] NULL
		,[InsertedBy] [dbo].[UdtInt32] NULL
		,[UpdatedAt] [dbo].[UdtDateTime] NULL
		,[UpdatedBy] [dbo].[UdtInt32] NULL
		,[IsDeleted] [dbo].[UdtBool] NULL
		,[DeletedAt] [dbo].[UdtDateTime] NULL
		,[DeletedBy] [dbo].[UdtInt32] NULL
		,CONSTRAINT [PK_Erp_QuotationReceiptRecipeItem] PRIMARY KEY CLUSTERED
		(
		[RecId] ASC
		) WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
		) ON [PRIMARY]
		END
		GO

		SET ANSI_PADDING OFF
		GO

IF NOT EXISTS (SELECT
      *
    FROM sys.foreign_keys
    WHERE object_id = OBJECT_ID(N'[FK_Erp_QuotationReceiptRecipeItem_Erp_QuotationReceipt]')
    AND parent_object_id = OBJECT_ID(N'[Erp_QuotationReceiptRecipeItem]'))
  ALTER TABLE [Erp_QuotationReceiptRecipeItem] WITH CHECK ADD CONSTRAINT [FK_Erp_QuotationReceiptRecipeItem_Erp_QuotationReceipt] FOREIGN KEY ([QuotationReceiptId])
  REFERENCES [Erp_QuotationReceipt] ([RecId])
GO

IF EXISTS (SELECT
      *
    FROM sys.foreign_keys
    WHERE object_id = OBJECT_ID(N'[FK_Erp_QuotationReceiptRecipeItem_Erp_QuotationReceipt]')
    AND parent_object_id = OBJECT_ID(N'[Erp_QuotationReceiptRecipeItem]'))
  ALTER TABLE [Erp_QuotationReceiptRecipeItem] CHECK CONSTRAINT [FK_Erp_QuotationReceiptRecipeItem_Erp_QuotationReceipt]
GO

		
IF NOT EXISTS (SELECT
      COLUMN_NAME
    FROM INFORMATION_SCHEMA.COLUMNS
    WHERE TABLE_NAME = 'Erp_OrderReceiptItem'
    AND COLUMN_NAME = 'InventoryUnitItemSizeSetDetailsId')
BEGIN
  ALTER TABLE Erp_OrderReceiptItem ADD InventoryUnitItemSizeSetDetailsId UdtInt64
END

IF NOT EXISTS (SELECT
      *
    FROM sys.foreign_keys
    WHERE object_id = OBJECT_ID(N'[FK_Erp_OrderReceiptItem_Erp_InventoryUnitItemSizeSetDetails_InventoryUnitItemSizeSetDetailsId]')
    AND parent_object_id = OBJECT_ID(N'[Erp_OrderReceiptItem]'))
  ALTER TABLE [dbo].[Erp_OrderReceiptItem] WITH CHECK ADD CONSTRAINT [FK_Erp_OrderReceiptItem_Erp_InventoryUnitItemSizeSetDetails_InventoryUnitItemSizeSetDetailsId] FOREIGN KEY ([InventoryUnitItemSizeSetDetailsId])
  REFERENCES [dbo].[Erp_InventoryUnitItemSizeSetDetails] ([RecId])
GO

IF EXISTS (SELECT
      *
    FROM sys.foreign_keys
    WHERE object_id = OBJECT_ID(N'[FK_Erp_OrderReceiptItem_Erp_InventoryUnitItemSizeSetDetails_InventoryUnitItemSizeSetDetailsId]')
    AND parent_object_id = OBJECT_ID(N'[Erp_OrderReceiptItem]'))
  ALTER TABLE [dbo].[Erp_OrderReceiptItem] CHECK CONSTRAINT [FK_Erp_OrderReceiptItem_Erp_InventoryUnitItemSizeSetDetails_InventoryUnitItemSizeSetDetailsId]
GO

IF NOT EXISTS (SELECT
      COLUMN_NAME
    FROM INFORMATION_SCHEMA.COLUMNS
    WHERE TABLE_NAME = 'Erp_OrderReceiptItem'
    AND COLUMN_NAME = 'CategoryAttributeSetDetailsId')
BEGIN
  ALTER TABLE Erp_OrderReceiptItem ADD CategoryAttributeSetDetailsId UdtInt64
END

IF NOT EXISTS (SELECT
      *
    FROM sys.foreign_keys
    WHERE object_id = OBJECT_ID(N'[FK_Erp_OrderReceiptItem_Erp_CategoryAttributeSetDetails]')
    AND parent_object_id = OBJECT_ID(N'[Erp_OrderReceiptItem]'))
  ALTER TABLE [dbo].[Erp_OrderReceiptItem] WITH CHECK ADD CONSTRAINT [FK_Erp_OrderReceiptItem_Erp_CategoryAttributeSetDetails] FOREIGN KEY ([CategoryAttributeSetDetailsId])
  REFERENCES [dbo].[Erp_CategoryAttributeSetDetails] ([RecId])
GO

IF EXISTS (SELECT
      *
    FROM sys.foreign_keys
    WHERE object_id = OBJECT_ID(N'[FK_Erp_OrderReceiptItem_Erp_CategoryAttributeSetDetails]')
    AND parent_object_id = OBJECT_ID(N'[Erp_OrderReceiptItem]'))
  ALTER TABLE [dbo].[Erp_OrderReceiptItem] CHECK CONSTRAINT [FK_Erp_OrderReceiptItem_Erp_CategoryAttributeSetDetails]
GO

IF NOT EXISTS (SELECT
      COLUMN_NAME
    FROM INFORMATION_SCHEMA.COLUMNS
    WHERE TABLE_NAME = 'Erp_OrderReceiptItem'
    AND COLUMN_NAME = 'AttributeSetItemId')
BEGIN
  ALTER TABLE Erp_OrderReceiptItem ADD AttributeSetItemId UdtInt64
END

IF NOT EXISTS (SELECT
      *
    FROM sys.foreign_keys
    WHERE object_id = OBJECT_ID(N'[FK_Erp_OrderReceiptItem_Erp_InventoryAttributeSetItem]')
    AND parent_object_id = OBJECT_ID(N'[Erp_OrderReceiptItem]'))
  ALTER TABLE [Erp_OrderReceiptItem] WITH CHECK ADD CONSTRAINT [FK_Erp_OrderReceiptItem_Erp_InventoryAttributeSetItem] FOREIGN KEY ([AttributeSetItemId])
  REFERENCES [Erp_InventoryAttributeSetItem] ([RecId])
GO

IF EXISTS (SELECT
      *
    FROM sys.foreign_keys
    WHERE object_id = OBJECT_ID(N'[FK_Erp_OrderReceiptItem_Erp_InventoryAttributeSetItem]')
    AND parent_object_id = OBJECT_ID(N'[Erp_OrderReceiptItem]'))
  ALTER TABLE [Erp_OrderReceiptItem] CHECK CONSTRAINT [FK_Erp_OrderReceiptItem_Erp_InventoryAttributeSetItem]
GO

IF NOT EXISTS (SELECT
      COLUMN_NAME
    FROM INFORMATION_SCHEMA.COLUMNS
    WHERE TABLE_NAME = 'Erp_OrderReceiptItem'
    AND COLUMN_NAME = 'AttributeSetItemId')
BEGIN
  ALTER TABLE Erp_OrderReceiptItem ADD AttributeSetItemId UdtInt64
END

IF NOT EXISTS (SELECT
      *
    FROM sys.foreign_keys
    WHERE object_id = OBJECT_ID(N'[FK_Erp_OrderReceiptItem_Erp_InventoryAttributeSetItem]')
    AND parent_object_id = OBJECT_ID(N'[Erp_OrderReceiptItem]'))
  ALTER TABLE [Erp_OrderReceiptItem] WITH CHECK ADD CONSTRAINT [FK_Erp_OrderReceiptItem_Erp_InventoryAttributeSetItem] FOREIGN KEY ([AttributeSetItemId])
  REFERENCES [Erp_InventoryAttributeSetItem] ([RecId])
GO

IF EXISTS (SELECT
      *
    FROM sys.foreign_keys
    WHERE object_id = OBJECT_ID(N'[FK_Erp_OrderReceiptItem_Erp_InventoryAttributeSetItem]')
    AND parent_object_id = OBJECT_ID(N'[Erp_OrderReceiptItem]'))
  ALTER TABLE [Erp_OrderReceiptItem] CHECK CONSTRAINT [FK_Erp_OrderReceiptItem_Erp_InventoryAttributeSetItem]
GO

/****** Object:  Table [dbo].[Erp_OrderReceiptRecipeItem]    Script Date: 02/10/2011 12:25:43 ******/
		SET ANSI_PADDING ON
		GO
		IF NOT EXISTS (SELECT
		*
		FROM sys.objects
		WHERE object_id = OBJECT_ID(N'[Erp_OrderReceiptRecipeItem]')
		AND type IN (N'U'))
		BEGIN
		CREATE TABLE [Erp_OrderReceiptRecipeItem] (
		[RecId] [dbo].[UdtRecId] IDENTITY (1, 1) NOT NULL
		,[OrderReceiptId] [dbo].[UdtInt64] NULL
		,[InventoryCode] [dbo].[UdtCode] NULL
		,[InventoryName] [dbo].[UdtName] NULL
		,[ArticelNo] [dbo].[UdtName] NULL
		,[PozNo] [dbo].[UdtName] NULL
		,[Quantity] [dbo].[UdtName] NULL
		,[UnitPrice] [dbo].[UdtName] NULL
		,[SizeDetailCode] [dbo].[UdtCode] NULL
		,[SizeDetailName] [dbo].[UdtName] NULL
		,[MarkCode] [dbo].[UdtCode] NULL
		,[MarkName] [dbo].[UdtName] NULL
		,[AttributeSetCode] [dbo].[UdtCode] NULL
		,[AttributeSetName] [dbo].[UdtName] NULL
		,[InUse] [dbo].[UdtBool] NULL
		,[InsertedAt] [dbo].[UdtDateTime] NULL
		,[InsertedBy] [dbo].[UdtInt32] NULL
		,[UpdatedAt] [dbo].[UdtDateTime] NULL
		,[UpdatedBy] [dbo].[UdtInt32] NULL
		,[IsDeleted] [dbo].[UdtBool] NULL
		,[DeletedAt] [dbo].[UdtDateTime] NULL
		,[DeletedBy] [dbo].[UdtInt32] NULL
		,CONSTRAINT [PK_Erp_OrderReceiptRecipeItem] PRIMARY KEY CLUSTERED
		(
		[RecId] ASC
		) WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
		) ON [PRIMARY]
		END
		GO

		SET ANSI_PADDING OFF
		GO

IF NOT EXISTS (SELECT
      *
    FROM sys.foreign_keys
    WHERE object_id = OBJECT_ID(N'[FK_Erp_OrderReceiptRecipeItem_Erp_OrderReceipt]')
    AND parent_object_id = OBJECT_ID(N'[Erp_OrderReceiptRecipeItem]'))
  ALTER TABLE [Erp_OrderReceiptRecipeItem] WITH CHECK ADD CONSTRAINT [FK_Erp_OrderReceiptRecipeItem_Erp_OrderReceipt] FOREIGN KEY ([OrderReceiptId])
  REFERENCES [Erp_OrderReceipt] ([RecId])
GO

IF EXISTS (SELECT
      *
    FROM sys.foreign_keys
    WHERE object_id = OBJECT_ID(N'[FK_Erp_OrderReceiptRecipeItem_Erp_OrderReceipt]')
    AND parent_object_id = OBJECT_ID(N'[Erp_OrderReceiptRecipeItem]'))
  ALTER TABLE [Erp_OrderReceiptRecipeItem] CHECK CONSTRAINT [FK_Erp_OrderReceiptRecipeItem_Erp_OrderReceipt]
GO</CreateScript>
  </CreateScript>
</DbScripts>